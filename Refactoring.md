# Refactoring

## リファクタリングの原則
### リファクタリングする理由
- ソフトウェアの設計を改善する
- ソフトウェアをわかりやすくする
- バグを見つけやすくする
- プログラミングをスピードアップする

### いつ行うべきか
- 3度目の原則
- 機能を追加するとき
- バグフィックスが必要になったとき
- コードレビューをするとき
- 理解を深めたいとき

## Catalog
### メソッドの構成方法
#### メソッドの抽出 (Extract Method)
#### メソッドのインライン化 (Inline Method)
#### 一時変数のインライン化 (Inline Temp)
### オブジェクト間でのメンバの移動
### データの構成
### 条件式の単純化
### メソッド呼び出しの単純化
### 一般化の処理
### 大規模なリファクタリング

## Smell
### コードの重複
### 長いメソッド
### 大きなクラス
### 長い変数リスト
### 変更系統の分岐
### ショットガン創の手術
### メソッドの浮気
### 群れたがるデータ
### プリミティブ強迫症
### case文
### パラレルな継承階層
### 仕事をしないクラス
### 空論的一般化
### 一時フィールド
### メッセージの連鎖
### 横流しブローカー
### 親密すぎるクラス
### インターフェイスの異なるクラス群
### 不完全なライブラリクラス
### データクラス
### 継承した遺産の拒絶
### コメント
### メタプログラミング狂
### 柔軟過ぎるAPI
### 紋切り型コードの繰り返し

## Tips
- 
  機能を追加しやすい構造になっていないプログラムに機能を追加しなければならなくなったら、
  まずプログラムをリファクタリングして作業をしやすくしてから追加すること。

- 
  リファクタリングを始める前に、しっかりとしたテストスイートを用意しよう。
  テストは自己診断テストでなければならない。

- 
  リファクタリングでは、プログラムを少しずつ変更すること。
  そうすれば、間違えても簡単にバグを見つけられる。

- 
  コンピュータが理解できるコードなら誰でも書ける。
  優れたプログラマが書くのは、人間が理解できるコードだ。

- 
  リファクタリング（名詞）：外から見える振る舞いを変えずに、ソフトウェアをわかりやすくし、
  安いコストで変更できるようにするために、ソフトウェアの内部構造に加えられる変更。

- 
  リファクタリング（動詞）：外から見える振る舞いを変えずに、
  一連のリファクタリングを適用してソフトウェアの構造を変えること。

- 
  3度目のストライクでリファクタリング
  （同じことを3度する場合にはリファクタリングせよ、の意）

- 
  中途半端にインターフェイスを公表してはならない。
  リファクタリングを円滑にするために、コードの所有権のルールを変更せよ。
