* Oracle Database
** About
- 
  オブジェクトおよびXML機能を使用するリレーショナルデータベース。

- 構成
  - ホストコンピュータ上のOracleソフトウェア
  - 物理ファイルの集合であるデータベース
  - Oracleインスタンス
    - バックグラウンド・プロセス
    - 共有メモリ―領域
  - サーバープロセス
  - Oracle Net / Oracle Netリスナー

** History/Version
*** Oracle V2(1979)
- 
  トランザクションの概念はないが、SQLを使用できた。
  Version1が存在しないのは、洗練されたDBであることを印象付けるための営業戦略と言われる。

*** Oracle version 3(1983)
*** Oracle 4(1984)
*** Oracle 5.0(1985)
*** Oracle 6.0(1988)
*** Oracle7 7.0(1992)
- 
  最終バージョンは7.3.4。
  パラレルクエリー、完全制約性、ストアドプロシージャ、データベーストリガ、
  テータベースリンク、レプリケーションなどがサポート。

*** Oracle8 8.0(1997)
- 
  オブジェクト指向やマルチメディアに対応。
  パーティショニング機能とカラム型LOB(BLOB型、CLOB型)がサポート。
  ROWIDの仕様変更により大容量のデータをサポート。
  最終バージョンは8.1.7。
  

**** Oracle 8i(R8.1.5～)(1999)
- 
  Java仮想マシンなどを組み込む。
  iはinternetの略。

*** Oracle 9i Database(2001)
- 
  RAC(Real Application Clusters)が目玉。
  最終バージョンは9.2.0.8。
  XMLの入出力など、400もの新しい特徴を有す。

*** Oracle Database 10g(2003)
- 
  グリッド・コンピューティングを目指し、グリッド技術を応用。
  gはGridの略とされる。

*** Oracle Database 11g(2007)
*** Oracle Database 12c(2013)
- 
  cはCloudの略とされる。

** Architecture
*** Process
**** About
- 
  Oracleでは複数のプロセスが実行されている。
  またWindows上では、複数プロセスでなくマルチスレッドによる動作となる。
  
- 
  MTSと呼ばれる構成にしない限り、Oracleクライアント1つに対して、サーバープロセスが1つ対応する。

**** Server Process
- 
  原則的には、SQLの結果を返すために必要なことを行う。

**** Background Process
- 
  原則的には、SQLの結果を返すために必要なこと以外を行う。

- 例
  - ora_dbwX(0や1)_XXXXXX(SID)
    データベースライター。データをディスクに書く。
  - ora_lgwr_XXXXXX(SID)
    ログライター。ログをディスクに書く。
  - ora_pmon_XXXXXX(SID)
    ピーモン。プロセスを監視し、プロセス障害を見つけた場合に掃除する。
  - ora_arcX(0や1)_XXXXXX(SID)
    アーカイバ。ログデータをアーカイブ（長期保存のため別ファイルとして保存）する。

*** Memory
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56306/memory.htm#i8451][14 メモリー・アーキテクチャ - Oracle® Database概要 11gリリース2 (11.2)]]
**** Cache
- 
  どのプロセスからも見ることができるメモリをキャッシュとしている。
  OSの共有メモリの機能を使っている。

***** Buffer Cache
- 
  書き込み用データもキャッシュに保存される。
  DBWRが定期的に変更済みデータをディスクに保存している。
  
- 
  フルスキャンデータはキャッシュヒットする可能性も少なく、他のデータも追い出してしまうため、
  Oracleでは大きな表であればバッファキャッシュに長時間留めないようにする。
  そのため、一般にフルスキャンしたデータはバッファキャッシュに載っていない、と考える。

**** PGA
- Program Global Area
  共有でないメモリの一部。
**** SGA
- System Global Area
  共有領域。
  便利だが競合が起こるため、ロックによる排他制御が必要で、性能トラブル等が起きやすい原因となっている。
**** UGA : User Global Area
**** Software Code Area

*** Block
- 
  データを管理する単位。
  I/Oの単位やバッファキャッシュはブロック単位で管理されている。
  OSのブロックとは異なり、Oracle独自のブロック。
  
  ブロックサイズは2KB, 4KB, 8KB, 16KB, 32KBといったサイズから選べる。

**** 構造
- ブロックヘッダ
  管理用の領域。データの先頭部分に格納される。
- データ
  ブロックの後ろから順に格納する。
  DELETEにより空いた領域を詰めなおすことはしない。
  
*** Optimizer
**** Cost Base
- 
  処理時間やI/O回数が最小になると考えられる処理を最上するアルゴリズム。
  コストとは、処理に必要と思われる時間、もしくはリソース使用量のこと。

***** Analyze
- 
  9i R2までは管理者が定期的、もしくは事前に行っておくことが推奨されていたが、
  10gからはOracleが自動的に行ってくれる。

- 統計情報
  - SQL文の情報
  - 表やインデックスの統計情報
  - パラメータの情報
  - システム統計情報
    - 1作業あたりにかかる時間の目安
    - oracle 10gからのデフォルト情報。
    - CPUのクロック、
**** Rule Base
- 
  10g以降はサポートしていない。

*** Status
**** OPEN
- 稼働状態。
**** MOUNT
- データファイルなどにアクセスできる状態。
- OPEN : データファイルのチェックなどをする
  alter database open
  データファイルを開いて簡単にチェックをしたり、一部のバックグラウンドプロセスを起動したりしている。

**** NOMOUNT
- バックグラウンドプロセスと共有メモリが存在する状態。インスタンスが起動した状態。
- MOUNT : 制御ファイルを読み込む
  alter database mount
  初期化パラメータに記述されている制御ファイルのパスを使用して、制御ファイルを開いて中身を読む。
  REDOログファイルやデータファイルの位置を把握する。
  なお、場所を知るだけなのでファイルが無くてもこの時点ではエラーにならない。

**** SHUTDOWN
- 停止状態。
- NOMOUNT : パラメータを読み込み、バックグラウンドプロセスの起動や共有メモリを確保する
  startup (nomount)
*** Logical Volume
**** 表領域
***** 種類
****** SYSTEM表領域
- 
  SYSTEMという表領域。データベース作成時に自動的に作成される。
  データベースのオープン中は常にオンラインになっている。

******* データ・ディクショナリ
- 
  SYSTEM表領域にはデータ・ディクショナリ表が必ず含まれる。
  データファイル1に格納される。

******* PL/SQLプロ恨むユニット
- 
  ストアドPL/SQLプログラム・ユニットのために格納されるデータは、すべてSYSTEM表領域にある。

****** SYSAUX表領域
- 
  SYSTEM表領域の補助表領域。
  多数のデータベース・コンポーネントで、デフォルトのデータ格納場所としてSYSAUX表領域が使用される。
  そのため、データベースの作成時またはアップグレード時に必ずSYSAUX表領域が作成される。
  SYSTEM表領域に常駐しないデータベース・メタデータの集中格納場所となる。

****** UNDO表領域
- 
  ロールバック情報の格納にのみ使用する特別な表領域。

****** ローカル管理表領域
- 
  表領域によるエクステント管理。
  各データファイルのビットマップが保持され、ビットマップを使用して、使用済領域と空き領域が追跡される。
  Oracle8iより提供。デフォルト。
  EXTENT MANAGEMENT句にLOCALを指定する。

- Extent Management
  AUTOALLOCATE, UNIFORMが選択可能。
  AUTOALLOCATEがデフォルト。UNIFORMを指定して均一エクステントによる管理も可能。
  さまざまなサイズのオブジェクトが表領域に含まれ、異なるサイズの多数のエクステントが必要と予測される場合、AUTOALLOCATEを選択する。
  エクステントの数とサイズが正確に予測できる場合はUNIFORMを選択する。SIZEを指定しない場合はデフォルトで1MBとなる。

****** ディクショナリ管理表領域
- 
  データ・ディクショナリによる表領域管理。
  領域の使用率の追跡をSQLディクショナリ表に依存する従来の方法で管理する表領域。
- 
  10gからシステム領域を含みすべての領域に対してローカル表領域がデフォルトとなっている。
  システム表領域をローカル管理領域で作成するとディクショナリ管理表領域は作成できなくなるため、
  10g以降は通常のデータベース作成ではディクショナリ管理表領域は作成できない。

****** 一時表領域
- 
  Oracle7.3より提供された表領域の種類。
  セッションの間のみ存続する一時データが格納される。
  中間ソート結果、一時表と一時索引、一時LOB、一時Bツリーを格納するために使用する。
  一時表領域が明示的に割り当てられていないユーザは、デフォルト一時表領域（新規インストールではTEMP）を使用する。
  
****** bigfile表領域
- 
  単一で非常に大きいデータファイル（最大40億ブロック）を持つ可能性がある表領域。
  従来のsmallfile表領域は複数のデータファイルを格納できるが、各データファイルは大きくない。

**** セグメント
**** エクステント
**** Oracleデータ・ブロック
***** PCTFREE
- 既存の行を更新する場合に備えて、空き領域として確保される割合の最小値。
  "20"と設定した場合、挿入に対して80%使用可能で、20%は更新のために保持される。
***** PCTUSED
- 新しい行をブロックに追加するときに、行データとオーバーヘッドに使用できるブロックの割合の最小値。
  PCTFREEで指定した限界値までブロックが満たされると、その割合がPCTUSEDの値を下回るまで、そのブロックを新しい行の挿入に使用できない。
*** Physical Volume
**** データファイル
**** 制御ファイル
**** REDOログ・ファイル
**** アーカイブ・ログ・ファイル
**** パラメータ・ファイル
**** アラートファイル
**** トレース・ログ・ファイル
**** バックアップ・ファイル
** Setting
*** files
**** initXXXX.ora
- 初期化パラメータファイル
- 下記のコマンドで設定値を確認可能。
  SQL> show parameter
***** Default path
- UNIX : $ORACLE_HOME/dbs/init$ORACLE_SID.ora
- Windows : ORACLE_HOME\database\initORCL.ora

**** network(folder)
***** admin
****** listener.ora
- 
  listenerの情報を記載する。
****** tnsnames.ora
- 
  接続識別子の情報を記載する。

**** oratab
- 自動起動するインスタンスの選択
- Location
  - Solaris以外
    /etc/oratab
    
- Format
  $ORACLE_SID:$ORACLE_HOME:[Y|N]
  最後の値が"Y"のものが自動起動する。
*** sql script
**** rdbms
***** admin
****** データディクショナリの作成
******* catalog.sql
- データ・ディクショナリおよびその多数のビューに対するパブリック・シノニムを作成し、PUBLICアクセス権限を与える。
******* catproc.sql
- PL/SQLに必須のスクリプトまたはPL/SQLで使用するスクリプトをすべて実行する。
******* catclust.sql
****** その他のデータ・ディクショナリ構造体の作成
******* catblock.sql
- パフォーマンス管理・SYS
  ロック関連のグラフを動的に表示するビューを作成する。
****** NOスクリプト
******* catnoadt.sql
- オブジェクト型に関連するディクショナリ・メタデータのビューおよびシノニムを削除する。
******* catnoavd.sql
- 監査メタデータのビューおよびシノニムを削除する
******* catnohs.sql
- 異機種間サービス・ディクショナリ・メタデータを削除する
******* catnoprt.sql
- パーティション表および索引に関連するディクショナリ・メタデータのビューおよびシノニムを削除する。
******* catnosvm.sql
- Oracle7 Server Managerのビューおよびシノニムを削除する
******* catnsnmp.sql
- DBSNMPユーザーおよびSNMPAGENTロールを削除する
****** アップグレード・ダウングレード
****** JavaScript
****** パッチ適用
******* catbundleapply.sql
- Call catbundle.sql to apply the Patch Set Update (PSU)
**** sqlplus
***** admin
****** glogin.sql
- サイト・プロファイル設定ファイル。
  SQL*Plusを起動すると、最初に実行される。
  次にユーザー・プロファイル設定ファイルlogin.sqlが実行される。
****** login.sql
- ユーザー・プロファイル設定ファイル
  現行のディレクトリを検索し、環境変数SQLPATHで指定したディレクトリを検索してファイルを検出する。
  glogin.sqlファイルの設定よりも優先される。
****** plustrce.sql
- 
****** pupbld.sql
- PRODUCT_USER_PROFILE表を再作成する。
****** help
******* helpbld.sql
- 新しいヘルプ表の削除および作成。SYSTEMスキーマにコマンドライン・ヘルプを手動でインストールする。
  内部的にはhlpbld.sqlを呼ぶだけ。
******* helpdrop.sql
- コマンドライン・ヘルプの表を削除する。
******* helpus.sql
- ヘルプ・データへのヘルプ表の移入。hlpbldの引数に渡す。
******* hlpbld.sql
- ヘルプ表を作成する。helpusを引数に取って実行する。
*** set
**** shmsys:~
- 
  shmから始まるものが共有メモリの設定
  
**** semsys:~
- 
  semから始まるものがセマフォの設定。

*** variables
**** ORACLE_BASE
- 
  ex) /u01/app/oracle(UNIX)
**** ORACLE_HOME
- 必須項目
  インストールされているディレクトリを指定
  ex) ORACLE_BASE/product/11.2.0/db_1
**** ORACLE_SID
- 必須項目
  初期化パラメータのファイル名に、この関数で指定されている名前が含まれる
**** PATH
- 必須項目
  ex) $ORACLE_HOME
**** Link
- [[http://www.shift-the-oracle.com/config/oracle-environment-variable.html][NLS_LANG、ORACLE_HOME、ORACLE_SID などの設定 - SHIFT the Oracle]]
** Command
*** bin
**** dbca
- 
  dbcaを起動する。

**** expdp
- 
  Data Pump。
**** impdp
**** lsnrctr
- start
  デフォルトのリスナーを起動する
- status
- stop
- help
- reload
- save_config
- exit
**** orapwd
- パスワードファイルを作成する。
  
- Usage
  opapwd file=<fname> entries=<users> force=<y/n> ignorecase=<y/n> nosysdba=<y/n>
  - file : name of password file (required)
  - password : password for SYS will be prompted if not specified at command line
  - entries : maximum number of distinct DBA (optional)
  - force : whether to overwrite existing file (optional)
  - ignorecase : passwords are case-insensitive (optional)
  - nosysdba : whether to shut out the SSYDBA logon (optional Database Vault only)
**** rman
- Recovery Manager。データベースでバックアップおよびリカバリ・タスクを実行し、バックアップ計画の管理を自動化するOracle Databaseクライアントのこと。
  
**** sqlplus
- /nolog
  ログオンを行わずにsqlplusを起動

**** tnsping
- tns用のping。
** SQL言語
*** 擬似列
**** ROWNUM
- 
  問い合わせによって戻される各行について、表や結合処理された行の集合からOracleが行を選択する順序を示す番号を戻す。
  つまり、選択される最初の行のROWNUMは1、2番目の行のROWNUMは2、となる。
  
*** 要素
**** データ型
***** 組み込み
****** CHAR
- 
  固定長の文字列を指定する。

****** NCHAR
****** NVARCHAR2
****** VARCHAR2
- 
  変長のデータ型。

****** VARCHAR
- 
  使用せず、VARCHAR2を使用する。
  現在はVARCHAR2と同様の動きをするが、今後異なる比較せマンティクスで比較される別の可変長文字列のデータ型に変更予定。

****** NUMBER
- NUMBER(p, s)
  固定小数点数。
  0と、絶対値が1.0×10^(-130)以上1.0×10^126未満の範囲にある正と負の値を格納する。

- p:精度(precision)
  最大有効桁数。

- s:位取り(scale)
  小数点から最下位有効桁までの桁数。

****** FLOAT
****** DATE
- 
  日付および時刻の情報を格納するために使用する。

****** RAW, LONG RAW
- バイナリデータまたはバイト列。
  LONG RAW列はBLOBへ変換することを推奨。
****** BLOB
****** CLOB
***** ROWID
****** ROWID
****** UROWID
***** XML
***** Spatial
**** リテラル
***** テキスト・リテラル
***** 数値リテラル
****** 整数
****** NUMBER/浮動小数点
***** 日時リテラル
***** 期間リテラル
**** NULL
**** コメント
***** ヒント
**** データベース・オブジェクト
***** スキーマ・オブジェクト
***** 非スキーマ・オブジェクト
*** 演算子
**** SQL演算子
- 優先順位
  - +, -(単項演算子), PRIOR, CONNECT_BY_ROOT
  - *, /
  - +, -(バイナリ演算子), ||
**** 算術演算子
- +, -(単項演算子)
- +, -(バイナリ演算子)
- *, /(バイナリ演算子)
  
**** 連結演算子
- ||
  文字列およびCLOBデータを連結する
  
**** 階層問い合わせ演算子
- PRIOR
- CONNECT_BY_ROOT
**** 集合演算子
- UNION
- UNION ALL
- INTERSECT
- MINUS

**** MULTISET
*** ファンクション
**** 単一行ファンクション
***** 数値ファンクション
****** ABS
****** CEIL
****** EXT
****** FLOOR
****** MOD
****** POWER
****** ROUND
****** SQRT
***** 文字値を戻す文字ファンクション
****** CONCAT
- 
  2つの引数を連結して返す。

****** REGEXP_REPLACE
- REGEXP_REPLACE ( source_char, pattern [, replace_string[, position[, occurrence[, match_param]]]])
  正規表現パターンで文字列を検索できるようにREPLACEの機能を拡張したもの。
****** REGEXP_SUBSTR
- REGEXP_SUBSTR ( source_char, pattern [, position[, occurrence[, match_param[, subexpr]]]])
  正規表現パターンで文字列を検索できるようにSUBSTRの機能を拡張したもの。
****** REPLACE
- REPLACE (char, search_string[, replacement_string] )
  replacement_stringを変換してcharを戻す。
****** SUBSTR
- {SUBSTR | SUBSTRB | SUBSTRC | SUBSTR2 | SUBSTR4} (char, position[, substring_length])
  charのpositionの文字からsubstring_length文字分の文字列を抜き出して戻す。
****** TRIM
***** 数値を戻す文字ファンクション
****** LENGTH
****** REGEXP_COUNT
***** キャラクタ・セット・ファンクション
***** 日時ファンクション
****** ADD_MONTHS
****** CURRENT_DATE
****** CURRENT_TIMESTAMP
****** LAST_DAY
****** NEXT_DAY
****** ROUND
***** 一般的な比較ファンクション
****** GREATEST
****** LEAST
***** 変換ファンクション
****** CAST
****** TO_CHAR
******* TO_CHAR(文字)
******* TO_CHAR(日時)
***** ラージオブジェクトファンクション
***** 階層ファンクション
***** データ・マイニング・ファンクション
***** XMLファンクション
***** エンコーディングおよびデコーディング・ファンクション
***** NULL関連ファンクション
****** COALESCE
- COALESCE(expr1, ...)
  式リストの最初のNULLでないexprを戻す。2つ以上の指揮を指定する必要がある。
  全てのexprがNULLの場合はNULLを返す。
  
****** NVL
- NVL(expr1, expr2)
  expr1がNULLの場合、expr2を消す。
  expr1, expr2には任意のデータ型を持つことができる。

***** 環境ファンクションおよび識別子ファンクション
*** 式
*** 条件
*** SQL文
**** Object
***** CONTEXT
***** DATABASE
****** ALTER
******* 構文
******** ALTER DATABASE [database] options
******** options
********* startup_clauses
- 
  データベースをマウントおよびオープンしてアクセス可能にする。


********** MOUNT [{STANDBY | CLONE} DATABASE]
********** OPEN {READ ONLY | [READ WRITE] [RESETLOGS|NORESETLOGS] [UPGRADE|DOWNGRADE]
********* recovery_clauses
********* alter_datafile_clause
- DATAFILE
  - (filename | filenumber)
    - RESIZE size_clause

****** CREATE
- CREATE DATABASE
  汎用的なデータベースを作成する。
  この文を実行すると、指定した既存のデータファイル上のデータがすべて消去される。
  
******* 構文
******** CREATE DATABASE [database] options... ;
******** options
********* USER [SYS|SYSTEM] IDENTIFIED BY password
********* MAXDATAFILES integer
- CREATE DATABASEまたはCREATE CONTROLFILE実行時の、制御ファイルのデータファイル・セクションの初期サイズを指定する。
  
********* MAXINSTANCES integer
- データベースを同時にマウントおよびオープンできる最大値。
********* CHARACTER SET charset
- データベースにデータを格納するときのキャラクタ・セットを指定する。
  サポートされているキャラクタセットおよびこのパラメータのデフォルト値はOSによって異なる。
  AL16UTF16はデータベース・キャラクタ・セットとして指定できない。
********* NATIONAL CHARACTER SET charset
- データ型がNCHAR、NCLOBｍたはNVARCHAR2として定義された列にデータを格納する際に使用する各国語キャラクタ・セットを指定する。
  有効値はAL16UTF16及びUTF8。デフォルトはAL16UTF16。
********* database_logging_clauses
********** LOGFILE [GROUP integer] file_specification (, GROUP integer...)
********** MAXLOGFILES integer
- データベースに対し作成可能なREDOログファイルグループの最大数を指定する。
********** MAXLOGMEMBERS integer
- REDOログ・ファイル・グループのメンバー（コピー）の最大数を指定する。
  最小値は1。最大値およびデフォルトはOSにより異なる。
********** MAXLOGHISTORY integer
- 自動メディア・リカバリに使用するアーカイブREDOログ・ファイルの最大数を指定する。
  最小値は0。デフォルト値はMAXINSTANCES値の倍数で、OSによって異なる。最大値は制御ファイルの最大サイズ制限のみを受ける。
  有用なのはOracle RACでARCHIVELOGモードで使用している場合のみ。
********** ARCHIVELOG | NOARCHIVELOG
********** FORCE LOGGING
********* tablespace_clauses
********** EXTENT MANAGEMENT LOCAL
********** DATAFILE file_specification(, ...)
********** SYSAUX DATAFILE file_specification(, ...)
- SYSAUX表領域の1つ以上のデータファイルを指定する場合、この句を使用する。
********** DEFAULT TABLESPACE tablespace [DATAFILE datafile_tempfile_spec] [extent_management_clause]
********** [BIGFILE | SMALLFILE] DEFAULT TEMPORARY TABLESPACE tablespace [TEMPFILE file_specification(, ...)] [extent_management_clause]
********** [BIGFILE | SMALLFILE] UNDO TABLESPACE tablespace [DATAFILE file_specification(, ...)]
********* set_time_zone_clause
****** DROP
- ターゲット・データベースを削除する。RMANプロンプトのみで実行する。
  ターゲットデータベースが排他的にマウントされ、オープンされていない状態で、RESTRICTモードで起動されている必要がある。
******* 構文
******** DROPDATABASE [INCLUDING BACKUPS] [NOPROMPT];
******* 用例
- RMAN> CONNECT TARGET SYS@test1
  RMAN> STARTUP FORCE MOUNT
  RMAN> SQL 'ALTER SYSTEM ENABLE RESTRICTED SESSION';
  RMAN> DROP DATABASE INCLUDING BACKUPS NOPROMPT;
***** DATABASE LINK
***** FUNCTION
- PL/SQL
****** CREATE
- CREATE (OR REPLACE) FUNCTION
  - (schema.) function name
    - RETURN datatype
      ファンクションの戻り値のデータ型を指定する。
******* parallel_enable_clause
- PARALLEL_ENABLE 
  - ( (PARITION argument BY ... ) )

- 
  パラレル問い合わせ操作のパラレル実行サーバーからファンクションを実行できることを示す。
  パッケージ変数などのセッション状態は使用しないようにする。
******* AGGREGATE USING
- AGGREGATE USING (schema.)implementation_type
  集計ファンクションまたは行のグループを評価して単一行を戻すファンクションとして使用する。
  
****** ALTER
****** DROP
***** INDEX
***** PACKAGE
- PL/SQL
****** CREATE
****** DROP
- DROP PACKAGEは、データベースから仕様と本体の両方を削除する。

****** ALTER
***** PACKAGE BODY
****** CREATE
****** DROP
- 本体のみを削除する。

***** PFILE, SPFILE
****** CREATE
***** PROCEDURE
- PL/SQL
****** CREATE
- CREATE (OR REPLACE) PROCEDURE plsql_source
****** ALTER
****** DROP

***** PROFILE
****** CREATE
******* 構文
******** CREATE PROFILE profile LIMIT (resource_parameters | password_parameters);
******** resource_parameters
********* SESSION_PER_USER [integer|UNLIMITED|DEFAULT]
- ユーザーを制限する同時セッションの数を指定する。
********* CPU_PER_SESSION [integer|UNLIMITED|DEFAULT]
- 1セッションあたりのCPU時間制限を指定する。100分の1秒単位。
********* CPU_PER_CALL [integer|UNLIMITED|DEFAULT]
- 1コールあたりのCPU時間制限を指定する。100分の1秒単位。
********* CONNECT_TIME [integer|UNLIMITED|DEFAULT]
- 1セッション辺りの合計経過時間制限を指定する。分単位。
********* IDLE_TIME [integer|UNLIMITED|DEFAULT]
- セッション中の連続的な日活動時間の長さを制限する。
********* LOGICAL_READS_PER_SESSION [integer|UNLIMITED|DEFAULT]
- メモリー及びディスクから読み込まれるブロックなど、1セッション中に読み込まれるデータ・ブロックの数の制限を指定する。
********* LOGICAL_READS_PER_CALL [integer|UNLIMITED|DEFAULT]
- SQL文を処理する1つのコールで読み込まれるデータ・ブロックの数の制限を指定する。
********* COMPOSITE_LIMIT [integer|UNLIMITED|DEFAULT]
- 1セッションあたりのリソースの総コストをサービス単位で指定する。
********* PRIVATE_SGA [size_clause|UNLIMITED|DEFAULT]
- 1つのセッションでシステム・グローバル領域(SGA)の共有プール内に割り当てることができるプライベート領域の大きさを指定する。
******** password_parameters
********* FAILED_LOGIN_ATTEMPTS [exr|UNLIMITED|DEFAULT]
- ユーザー・アカウントがロックされる前にそのアカウントへのログインに連続して失敗できる回数を指定する。
********* PASSWORD_LIFE_TIME [exr|UNLIMITED|DEFAULT]
- 同じパスワードを認証に使用できる日数を制限する。
********* PASSWORD_REUSE_TIME [exr|UNLIMITED|DEFAULT]
- パスワードを再利用できない日数を指定する。
  PASSWORD_REUSE_MAXと組み合わせて設定する必要がある。
********* PASSWORD_REUSE_MAX [exr|UNLIMITED|DEFAULT]
- 現行のパスワードを再利用する前に必要な、パスワードの変更回数を指定する。
  PASSWORD_REUSE_TIMEと組み合わせて設定する必要がある。
********* PASSWORD_LOCK_TIME [exr|UNLIMITED|DEFAULT]
- ログインが指定された回数連続して失敗した場合、アカウントがロックされる日数を指定する。
  デフォルトは1日。
********* PASSWORD_GRACE_TIME [exr|UNLIMITED|DEFAULT]
- ログインが許可される猶予期間の日数を指定する。7日がデフォルト。
********* PASSWORD_VERIFY_FUNCTION [function|UNLIMITED|DEFAULT]****** ALTER
- 
  プロファイルのリソース制限またはパスワード管理パラメータを追加、変更または削除できる。
  変更は現行のセッションのユーザーには影響せず、後続セッションのユーザーのみに影響する。

- パスワード検証スクリプトを引数として渡すことができる。
****** ALTER
******* 構文
******** ALTER PROFILE profile LIMIT (resource_parameters | password_parameters);
******** resource_parameters
********* SESSION_PER_USER [integer|UNLIMITED|DEFAULT]
********* CPU_PER_SESSION [integer|UNLIMITED|DEFAULT]
********* CPU_PER_CALL [integer|UNLIMITED|DEFAULT]
********* CONNECT_TIME [integer|UNLIMITED|DEFAULT]
********* IDLE_TIME [integer|UNLIMITED|DEFAULT]
********* LOGICAL_READS_PER_SESSION [integer|UNLIMITED|DEFAULT]
********* LOGICAL_READS_PER_CALL [integer|UNLIMITED|DEFAULT]
********* COMPOSITE_LIMIT [integer|UNLIMITED|DEFAULT]
********* PRIVATE_SGA [size_clause|UNLIMITED|DEFAULT]
******** password_parameters
********* FAILED_LOGIN_ATTEMPTS [exr|UNLIMITED|DEFAULT]
********* PASSWORD_LIFE_TIME [exr|UNLIMITED|DEFAULT]
********* PASSWORD_REUSE_TIME [exr|UNLIMITED|DEFAULT]
********* PASSWORD_REUSE_MAX [exr|UNLIMITED|DEFAULT]
********* PASSWORD_LOCK_TIME [exr|UNLIMITED|DEFAULT]
********* PASSWORD_GRACE_TIME [exr|UNLIMITED|DEFAULT]
********* PASSWORD_VERIFY_FUNCTION [function|UNLIMITED|DEFAULT]
****** DROP
***** ROLE
****** CREATE
***** SEQUENCE
****** CREATE
- CREATE SEQUENCE (schema.) sequence
  
****** ALTER
****** DROP
***** SYNONYM
****** CREATE
- CREATE [OR REPLACE] [PUBLIC] SYNONYM syn_name FOR schema_name.object_name;
- OR REPLACE
  同名のシノニムが存在した場合でも構わず上書きする場合に指定する
- PUBLIC
  パブリックシノニムを作成する場合に指定

****** DROP
- DROP [PUBLIC] SYNONYM syn_name;

****** RENAME
- RENAME old_syn_name TO new_syn_name
- PUBLICはRENAME不可。
***** SYSTEM
****** ALTER
******* 構文
******** ALETR SYSTEM options;
******** options
********* archive_log_clause
********* CHECKPOINT [GLOBAL | LOCAL]
********* CHECK DATAFILES [GLOBAL | LOCAL]
********* [ENABLE | DISABLE] DISTRIBUTED RECOVERY
********* FLUSH {SHARED_POOL | GLOBAL CONTEXT | BUFFER_CACHE | REDO TO target_db_name [[NO] CONFIRM APPLY]}
********* end_session_clauses
********** DISCONNECT SESSION 'integer1, integer2' [POST TRANSACTION] IMMEDIATE
********** KILL SESSION 'integer1, integer2 [, @integer3]' IMMEDIATE
********* SWITCH LOGFILE
********* {SUSPEND | RESUME}
********* quiesce_clauses
********** QUISCE RESTRICTED
********** UNQUIESCE
********* rolling_migration_clauses
********* security_clauses
********* SHUTDOWN [IMMEDIATE] dispatcher_name
********* REGISTER
********* SET alter_system_set_clause
********* REEST alter_system_set_clause
***** TABLE
****** CREATE
******* segment_attributes_clause
- physical_attributes_clause
- TABLESPACE tablespace
  表領域を指定する。
- logging_clause
  表、および制約のために必要な索引、パーティションまたはLOBの記憶特性を、
  REDOログファイルに記録する(LOGGING)かしないか(NOLOGGING)を指定する。
  - LOGGING
  - NOLOGGING
  - FILESYSTEM_LIKE_LOGGING
******* physical_attributes_clause
- PCTFREE
  データブロックに、更新のために残しておく領域の割合。デフォルトは10。0から99の正の整数。
- PCTUSED
  デフォルトは40。0から99の正の整数。
- INITRANS
  各データブロックに割り当てられる、同時実行トランザクション・エントリの初期数。
  値の範囲は1から255で、デフォルトは1。通常は変更せずデフォルトで使用するようにする。
- MAXTRANS
  同時実行可能な同時実行更新トランザクションの最大数を決定する。以前のリリースのパラメータ。
  現在は非推奨。
******* storage_clause
- STORAGE
  - INITIAL
    オブジェクトの第1エクステントのサイズを指定する。
  - FREELISTS
    最小値（デフォルト）は1。
  - FLEELIST GROUPS
    最小値（デフォルト）は1。
  - BUFFER_POOL
    - KEEP
    - RECYCLE
    - DEFAULT
******* table_compression
- 概要
  ヒープ構成表に対してのみ有効。
  ディスク使用量を削減するためにデータ・セグメントを圧縮するかどうかを指定できる。
  COMPRESSを指定すると、表の圧縮が使用可能となる。
  NOCOMPRESSを指定すると、表の圧縮が使用禁止となる。デフォルトはNOCOMPRESS。

- COMPRESS
  - BASIC
  - FOR
    - OLTP
    - QUERY | ARCHIVE
      - LOW | HIGH
- NOCOMPRESS
****** ALTER
- ALTER TABLE [schema.]table options enable_disables;
******* options
******** alter_table_properties
********* RENAME TO new_table_name
******** column_clauses
******** constraint_clauses
******** alter_table_partitioning
******** alter_external_table
******** move_table_clause
******* enable_disables
******** enable_disable_clause
******** [ENABLE|DISABLE] [TABLE LOCK | ALL TRIGGERS]
******* memo
******** add
- 
  - PKの作成
    ADD [CONSTRAINT primary_key_name] PRIMARY KEY (col1, col2, ..) ;
    PK名を省略した場合、PK_tablenameとなる模様。
******** drop_constraint_clause
- PRIMARY KEY
- UNIQUE
- 
  - PKの削除
    - ALTER TABLE table_name DROP PRIMARY KEY;
    - ALTER TABLE table_name DROP CONSTRAINT primary_key_name;
******** log
- LOGGING
  REDOログ記録をONに変更する
- NOLOGGING
  REDOログ記録をOFFに変更する
***** TABLESPACE
****** CREATE
******* permanent_tablespace
- BLOCKSIZE
  非標準ブロックサイズを指定する場合に使用する。
- ONLINE | OFFLINE
  表形式がオンラインまたはオフラインのいずれかであるかを決定できる。
  - ONLINE : 表領域にアクセス権限があるユーザに対し、作成直後の表領域を使用可能にする。デフォルト。
  - OFFLINE : 作成直後の表領域を使用禁止にできる。

******* temporary_tablespace
- 
  ローカル管理一時表領域を作成できる。
  一時表領域は、セッションの存続期間中にのみ保持される一時データを格納できるデータベース内の領域割り当て。
  一次データとは、一次表などのユーザ生成スキーマ・オブジェクト、またはハッシュ結合およびソート操作で一次領域などのシステム生成データ。

- TEMPORARY TABLESPACE tablespace
  ソート処理専用の一時表領域として作成する。

  - TEMPFILE file_specification

******* undo_tablespace
- UNDO TABLESPACE tablespace
  UNDO表領域を作成する。自動UNDO管理モードでデータベースを実行する場合、ロールバック・セグメントの代わりにUNDO表領域を使用してUNDO領域を管理する。
  
******* extent_management
- 構文
  EXTENT MANAGEMENT LOCAL [AUTOALLOCATE | UNIFORM [SIZE size_clause]]

- 項
  - AUTOALLOCATE
    表領域がシステム管理される。
  - UNIFORM
    表領域をSIZEバイトの均一のエクステントで管理できる。デフォルトは1MB。
    一次表領域のすべてのエクステントはサイズが均一であるため、このキーワードは一次表領域ではオプション扱い。
    ただし、SIZEを指定する場合はUNIFORMを指定する必要がある。
    UNDO領域に指定することはできない。
    - SIZE size_clause | 

******* segment_management
- SEGEMNT SPACE MANAGEMENT
  - AUTO
    ビットマップを使用して表領域のセグメントにある空き領域を管理できる。
  - MANUAL
    空きリストを使用して表領域のセグメントにある空き領域を管理できる。
    この設定は使用せず、AUTOを利用することを強く勧める。
******* file_specification
- datafile_tempfile_spec | redo_log_file_spec
******** datafile_tempfile_spec
- 構文
  ['(filename | ASM filename)'] [SIZE size_clause] [REUSE] [autoextend_clause]

- 項
  - SIZE句
    ファイルのサイズをバイト単位で指定する。K,M,G,Tを使用して単位の指定も可能。
  - REUSE
    既存ファイルの再利用を可能にする。filenameを指定しない限り、指定不可。
******** redo_log_file_spec
******** autoextend_clause
- AUTOEXTEND (OFF | ON [NEXT size_clause] [maxsize_clause])
****** ALTER
- 例
  - データファイルの追加
    ALTER TABLESPACE DAT01 ADD DATAFILE 'home/db/DAT01_02.dbf' size 2000M;

****** DROP
- DROP TABLESPACE tablespace
  - INCLUDING CONTENTS
    表領域の中のすべてのデータベース・オブジェクトを削除できる。
    表領域がから出ない場合にこの句を省略した場合、エラーがもどされ、表領域は削除されない。
    - AND DATAFILES
      関連するOSファイルも削除できる。
    - KEEP DATAFILES
      OSファイルはそのままにしておく。
    - CASCADE CONSTRAINTS
      tablespaceに含まれる表の主キーまたは一意キーを参照する、tablespace外のすべての参照整合性制約を削除する。
      
***** TRIGGER
- PL/SQL
***** TYPE
- PL/SQL
***** USER
****** CREATE
****** ALTER
- DEFAULT ROLE
  ログイン時にデフォルトによってユーザに付与されるロールを指定する。
  GRANT文を使用してユーザに付与されているロール、またはCREATE ROLE権限を持つユーザが作成したロールのみ指定可能。

******* 構文

******** ALTER USER {user options | user[, ...] proxy_clause}

******** options
********* IDENTIFIED BY password []
********* IDENTIFIED EXTERNALLY []
********* IDENTIFIED GLOBBALY []
********* DEFAULT TABLESPACE tablespace
********* TEMPORARY TABLESPACE [tablespace | tablespace_group_name]
********* QUOTA []
********* PROFILE profile
********* DEFAULT ROLE {}
********* PASSWORD EXPIRE
********* ACCOUNT {LOCK | UNLOKC}
********* ENABLE EDITIONS [FORCE]
******** proxy_clause
****** DROP
- DROP USER user
  - CASCADE

***** VIEW
**** Etc
***** DELETE
***** GRANT
****** System Privileges
- L1
  - ALL PRIVILEGES
  - role
  - system_privilege
- L2
  - TO grantee_clause

******* システム権限
******** アドバイザ・フレームワーク権限
********* ADVISOR
- PL/SQLパッケージ(DBMS_ADVISORやDBMSSQLTUNEなど)を介したアドバイザ・フレームワークへのアクセス。
********* ADMINISTER SQL TUNING SET
********** ADMINISTER SQL TUNING SET
- DBMS_SQLTUNEパッケージを介した、権限受領者が所有するSQLチューニング・セットの作成、削除、選択（読み取り）およびロード（書き込み）
********** ADMINISTER ANY SQL TUNING SET
********* SQL PROFILE
********** CREATE ANY SQL PROFILE 
********** ALTER ANY SQL PROFILE
********** DROP ANY SQL PROFILE
******** CLUSTER
********* CREATE CLUSTER
********* CREATE ANY CLUSTER
********* ALTER ANY CLUSTER
********* DROP ANY CLUSTER
******** CONTEXT
********* CREATE ANY CONTEXT
********* DROP ANY CONTEXT
******** データリダクション
********* EXEMPT REDACTION POLICY
******** データベース
********* ALTER DATABASE
********* ALTER SYSTEM
********* AUDIT SYSTEM
******** DATABASE LINK
********* CREATE DATABASE LINK
********* CREATE PUBLIC DATABASE LINK
********* ALTER DATABASE LINK
********* ALTER PUBLIC DATABASE LINK
********* DROP PUBLIC DATABASE LINK
******** DEBUG
********* DEBUG CONNECT SESSION
********* DEBUG ANY PROCEDURE
******** DICTIONARY
********* ANALYZE ANY DICTIONARY
******** DIMENSION
********* CREATE DIMENSION
********* CREATE ANY DIMENSION
********* ALTER ANY DIMENSION
********* DROP ANY DIMENSION
******** DICTIONARY
********* CREATE ANY DICTIONARY
********* DROP ANY DICTIONARY
******** EDITION
********* CREATE ANY EDITION
********* DROP ANY EDITION
******** その他
********* SELECT_CATALOG_ROLE
********* UNLIMITED TABLESPACE
****** Object Privileges
- L1
  - object_privilege
  - ALL [PRIVILEGES]
- L2
  - on_object_clause
    - TO grantee_clause
- OPTION
  - WITH HIERARCHY OPTION
  - WITH GRANT OPTION
  
****** grantee_clause
- user [IDENTIFIED BY password]
- role
- PUBLIC

***** REVOKE
** PL/SQL
*** 言語要素
**** カーソルFOR LOOP文
- 指定されたカーソルが戻す行の型のレコード変数として暗黙的にループ索引を宣言し、カーソルをオープンする。
  反復される度に、結果セットから行をフェッチしてレコードに入れる。フェッチする行がなくなるとカーソルがクローズされる。
***** cursor_for_loop_statement
- FOR record IN ... LOOP statement END LOOP label;

**** EXECUTE IMMEDIATE文
- 動的SQLを一度の操作で作成して実行する。
*** 仕様
**** 制御文
**** コレクション・レコード
**** 静的SQL
**** 動的SQL
**** サブプログラム
- 
  繰り返し起動できる名前付きPL/SQLブロック。
  
***** サブプログラムの分類
****** ネストしたサブプログラム
- PL/SQLブロック内で作成される
****** パッケージ・サブプログラム
- パッケージ内で作成される
****** スタンドアロン・サブプログラム
- スキーマレベルで作成される。
**** トリガー
**** パッケージ
** SQL*Plus
- 入力
  次の3タイプのコマンドが入力可能。
  - SQLコマンド
  - PL/SQLブロック
  - SQL*Plusコマンド
  
*** SQLコマンドの終了
- 
  - セミコロン(;)を入力する
  - 1行にスラッシュ(/)のみを1つ入力する
  - 空白行を入力する
*** Scriptの使用
**** Variables 変数
***** 置換変数
****** 定義
- DEFINE varname
- ACCEPT ~
- 削除
  UNDEFINE varname
****** 利用
******* &置換変数
- &VARNAME、で指定の値に置き換えられ、SQL実行される。
  例: where deptno = &deptno
- VERIFY変数
  OFFにすると、置換変数の置き換え前後の値が表示されなくなる。
  例: SET VERIFY OFF
  
******* &&置換変数
- &&変数は、SQL実行後も値が保持される。
  対して、&置換変数で置き換えられた値はSQL実行後に破棄される。
  DEFINEコマンドで確認し、UNDEFINEコマンドで破棄する。

******* 無効化
- 置換変数を無効にする
  SET DEFINE OFF
- 置換変数を他の文字に変更することなども可能(SET ESCAPE c)。
****** 種類
******* ユーザー定義変数
******* 事前定義変数
******** _CONNECT_IDENTIFIER
- 可能な宛先への接続に使用される接続識別子
******** _DATE
- 動的変数としての現在の日付、またはユーザー定義の固定文字列が含まれる。
******** _EDITOR
- EDITコマンドで使用されるエディタを指定
******** _O_VERSION
- インストールされたOracle Databaseの現行のバージョン
******** _O_RELEASE
- インストールされたOracle Databaseの完全なリリース番号
******** _PRIVILEGE
- 現在の接続での権限レベル。次のいずれかの値となる。
  - AS SYSASM
  - AS SYSBACKUP
  - AS SYSDBA
  - AS SYSDG
  - AS SYSOPER
  - 空文字(通常のユーザー接続)
******** _SQLPLUS_RELEASE
- インストールされたSQL*Plusコンポーネントの完全なリリース番号
******** _USER
- 接続に使用されるユーザー名
***** バインド変数
- 
  SQL*PlusとPL/SQLの双方で参照できる変数。
  PL/SQLに値を渡したり、結果を受け取ったりできる。
  "var[iable] 変数名 型"で宣言する。
  
- PL/SQL
  変数名の前に:(コロン)を付けて参照したり値を格納できる。
  :count:=3;
  
- SQL*Plus
  PRINTコマンドで出力可能。

*** Variables
- SQL*Plusに影響するパラメータ・環境変数
**** LD_LIBRARY_PATH
**** LOCAL
**** NLS_LANG
- グローバリゼーション機能を指定する環境変数。
  NLSはNational Language Supportの略。
  "language_territory.charset"を指定する。
  例: JAPANESE_JAPAN.UTF8, AMERICAN_AMERICA.UTF8

**** ORACLE_HOME
**** ORACLE_PATH
**** ORACLE_SID
**** PATH
**** SQLPATH
*** Commands
**** @
- 指定したスクリプトのSQL*Plus文を実行する。
**** /
- 最後に実行されたSQLコマンドまたはSQLバッファに格納されているPL/SQLブロックを実行する。
**** ACCEPT
- 構文
  ACC[EPT] variable 
    [NUM[BER] | CHAR | DATE | BINARY_FLOAT | BINARY_DOUBLE]
    [FOR[MAT] foramt]
    [DEF[AULT] default]
    [PROMPT text|NOPR[OMPT]]
    [HIDE]

- 項
  - variable
    値を格納する変数の名前を指定する。variableを指定しない場合、SQL*Plusによって変数が指定される。

  - Type
    - NUM[BER]
      variableがNUMBERデータ型に設定される。
    - CHAR
      variableがCHARデータ型に設定される。

  - Prompt
    - PROMPT text
      variableの値を受け入れる前に、画面にテキストtextを表示する。
    - NOPROMPT
      - プロンプトを表示せずに入力を待つ

  - HIDE
    - 入力された応答が表示されない。

**** CONNECT
- 
  指定したユーザ-名でOracle Databaseに接続する。

- 構文
  CONN[ECT] [{logon|/|proxy} [AS {SYSOPER|SYSDBA|SYSASM}] [edition=value]
  - logon : 
    username[/password]@connect_identifier
  - proxy :
    proxyuser[ username][/password][@connect_identifier]
  
- 項
  - /
    デフォルト・ログオンを表す。

  - AS {SYSOPER|SYSDBA|SYSASM}
    AS句を使用すると、SYSOPER、SYSDBA、またはSYSASMシステム権限が付与されているユーザーによる特権付接続が可能。

**** DEFINE
- DEF[INE] [variable] | [variable = text]
  ユーザ変数または事前定義変数を指定し、その変数にCHAR値を割り当てたり、1つまたはすべての変数の値および変数型を表示する。

**** DESCRIBE
- DESC[RIBE] objectx
  表、ビュー、ファンクション、プロシージャの定義を表示する。

**** HOST
- HO[ST]
  続けてOSのコマンドを入力することで、OSのコマンドを実行可能。

- 短縮形
  - !
    Unix系での短縮形。直後にスペースは不要で、続けて入力可能。
  - $
    Windows系での短縮形。

**** PROMPT
- PRO[MPT] [text]
  textを画面上表示する
  
**** SET
***** SET DEF[INE] {&|c|ON|OFF}
- 置換変数の接頭辞として使用する文字を、cに設定する。
  ONまたはOFFによって、置換をするかどうかを設定する。ONを設定するとデフォルトの"&"へボトル。
***** SET ECHO {ON|OFF}
- @、@@またはSTARTを使用して実行するスクリプトでコマンドをエコー表示するかどうかを制御する。
  ONを指定すると、画面にコマンドが表示される。OFFを指定すると、非表示となる。
  対話方式で入力するコマンドまたはOSからリダイレクトするコマンドの表示には影響がない。
  
***** SET ESC[APE] {\|c|ON|OFF}
- エスケープ文字として使用する文字を定義する。
  OFFを指定するとエスケープ文字の定義が解除される。ONを指定すると、使用可能となり、設定値はデフォルトの"\"に戻る。
  
***** SET LIN[ESIZE]
- 1行に表示する文字の合計数を設定する。
***** SET PAGES[IZE]
- 各出力ページの行数を設定する。
  0に設定すると、ヘッダ、ブレーク、タイトル、初期空白行およびその他の情報をすべて費用時にできる。
***** SET VER[IFY] {ON|OFF}
- 
  置換変数を値と置き換える前後に、SQL文またはPL/SQLコマンドのテキストをリスト表示するかどうかを制御する。
**** SHUTDOWN
- 
  接続の終了を待つ。

- transactional
  トランザクションが終わるまで待つ。
  トランザクションが終わったら接続を切る。

- immediate
  接続終了をまたず、コミットされていないデータは失われる。
  変更済みデータはデータファイルに書き込まれる。

- abort
  接続終了をまたず、コミットされていないデータは失われる。
  変更済みデータはデータファイルに書き込まれない。
**** SPOOL
- 構文
  SPO[OL] [file_name[.ext] [CRE[ATE] | REP[LACE] | APP[END]] | OFF | OUT]
- 項
  - CRE[ATE]
    指定した名前でファイルを新規作成する。
  - REP[LACE]
    デフォルトの動作。既存のファイルの内容を置換する。ファイルが存在しない場合、ファイルが作成される。
  - APP[END]
    指定したファイルの終わりに、バッファの内容を追加数r
  - OFF
    スプールを停止する。
  - OUT
    スプールを停止して、ファイルをコンピュータの標準プリンタに送る。
  - (指定なし)
    現行のスプール状態を表示する。

**** STARTUP
- 
  SQL*Plusを起動する

- 構文
  - STARTUP options | upgrade_options
  - options :
    [FORCE] [RESTRICT] [PFILE=filename] [QUIET] [MOUNT [dbname] | [OPEN [open_options] [dbname]] | NOMOUNT ]
  - open_options :
    READ {ONLY | WRITE [RECOVER]} | RECOVER
  - upgrade_options :
    [PFILE=filename] {UPGRADE | DOWNGRADE} [QUIET]

- 項
  - FORCE
    再起動する前に現行のインスタンスをABORTモードのSHUTDOWNで停止しておく必要があり、現在のインスタンスが実行されている場合はエラーとなる。
    FORCEが指定されている場合は実行される。デバッグ中及び異常な環境下で有効なオプションで、通常は仕様を控えるべき。
  - PFILE=filename
    インスタンスの起動中に使用されるクライアント・パラメータ・ファイルを指定する。
    PFILEの指定を省略すると、デフォルトのサーバー・パラメータ・ファイル(spfile)にアクセスしようとする。spfileが見つからないとデフォルトのpfileにアクセスしようとする。
    デフォルトファイルはプラットフォーム固有でhとなる。
    例 : UNIX : $ORACLE_HOME/dbs/init$ORACLE_SID.ora、Windows : ORACLE_HOME\database\initORCL.ora
    
  - Mount
    - MOUNT dbname
      オープンしないでマウントする。
    - OPEN
      マウントおよびオープンする。
    - NOMOUNT
      停止状態からNOMOUNT状態になる。
      MOUNTまたはOPENと同時には指定できない。
      その後変更する場合は、alter database mount; alter database open;など。

**** VARIABLE
- VAR[IABLE] [variable [type]]
  引数なしでVARIABLEを指定すると、セッション内で宣言されているすべての変数が表示される。
  変数名のみを指定すると、その変数が表示される。
  
  ストアドプロシージャに対するパラメータとして使用される。また、無名PL/SQLブロックの中で直接参照できる。

**** WHENEVER OSERROR
- 
  OSのエラーが発生した場合に、指定した操作を実行する。
- 構文
  - WHENEVER OSERROR {EXIT [SUCCESS|FAILURE|n|variable|:BindVariable] [COMMIT|ROLLBACK] | CONTINUE [COMMIT|ROLLBACK|NONE]}
- 項
  - EXIT [SUCCESS|FAILURE|n|variable|:BindVariable]
    エラーが検出されたらすぐに終了するように指定する。
  - CONTINUE
    EXITオプションをオフにする。
  - 動作
    - COMMIT
      終了または継続する前にCOMMITを実行し、データベースに対する保留中の変更を保存するように指示する。
    - ROLLBACK
      終了前にROLLBACKを実行するようにする。
    - NONE
      何の操作もしない。
**** WHENEVER SQLERROR
- SQLコマンドまたはPL/SQLブロックでエラーが発生した場合に、指定した操作を実行する。
- 構文
  WHENEVER SQLERROR {EXIT [SUCCESS|FAILURE|WARNING|n|visible|:BindVariable] [COMMIT|ROLLBACK] | CONTINUE [COMMIT|ROLLBACK|NONE]}
- 項
  - EXIT [SUCCESS|FAILURE|n|variable|:BindVariable]
    エラーが検出されたらすぐに終了するように指定する。
  - CONTINUE
    EXITオプションをオフにする。
  - 動作
    - COMMIT
      終了または継続する前にCOMMITを実行し、データベースに対する保留中の変更を保存するように指示する。
    - ROLLBACK
      終了前にROLLBACKを実行するようにする。
    - NONE
      何の操作もしない。  
*** Restriction
- 
  |----------------------+------------|
  | 項目                 | 制限       |
  |----------------------+------------|
  | ユーザー名           | 30バイト   |
  | 置換変数名の長さ     | 30バイト   |
  | 置換変数値の長さ     | 240文字    |
  | コマンドラインの長さ | 2500文字   |
  | 最大PAGESIZE         | 50,000行   |
  | 合計行幅             | 32,767文字 |
  | 最大ページ数         | 99,999     |
  |----------------------+------------|

- 
  [[http://docs.oracle.com/cd/E16338_01/server.112/b56314/apa.htm][A SQL*Plusの制限 - SQL*Plus®ユーザーズ・ガイドおよびリファレンス リリース11.2]]

*** Arguments
- 
  ファイル名の後にスペースを挟んで引数を列挙する。
  内部では&1, &2などの形で受け取れる。
  
- 
  [[http://www.shift-the-oracle.com/sqlplus/tutorial/sqlplus-script-parameter.html][SQL*Plus の実行スクリプトをパラメータ付きで起動する - SHIFT the Oracle]]

*** Security
**** PRODUCT_USER_PROFILE表
- PUP表
  GRANTとREVOKEコマンド、およびユーザー・ロールによるユーザー・レベルのセキュリティを補う。
  特定のSQLおよびSQL*Plusコマンドをユーザー単位で使用禁止にできる。
*** Link
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56314/toc.htm][目次 - SQL*Plusユーザーズ・ガイドおよびリファレンスリリース11.2]]
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56314/ch_twelve001.htm#BACDBGBC][SQL*Plusコマンド一覧 - SQL*Plusユーザーズ・ガイドおよびリファレンスリリース11.2]]
** Reference
*** 初期化パラメータ
**** AUDIT_FILE_DEST
- Type:文字列
  AUDIT_TRAIL初期化パラメータがos, xmlまたはxml,extendedに指定されている場合に監査証跡が書き込まれるOSディレクトリを指定する。
**** AUDIT_TRAIL
- Type:文字列, Default:none
  データベースの監査を使用可能または使用禁止にする
- value
  - none
    標準監査を使用禁止にする。
  - os
    すべての監査レコードをOSファイルに書き込む。
  - db
    OSの監査証跡に常に書き込まれるレコードを除いて、監査レコードをデータベース監査証跡(SYS.AUD$表内)に書き込む。
  - db, extended
    dbのすべてのアクションを実行し、SYS.AUD$表が利用できる場合はこの表のSQLBINDおよびSQLTEXT CLOB列にデータを移入する。
  - xml
    XML形式でOS監査レコードファイルに書き込む。
  - xml, extended
    xmlのすべてのアクションを実行し、監査証跡にSQLテキストおよびSQLバインド情報が含まれる。
**** BACKGROUND_DUMP_DEST
- ALERTログおよびバックグラウンド・トレースの格納場所
  バックグラウンド・プロセス(LGWR, DBWnなど)のデバッグ・トレース・ファイルが書き込まれるパス名を指定する。
**** COMPATIBLE
- Type:文字列, 変更不可
  Oracleとの互換性を保つ必要があるリリースを指定する。
**** CONTROLL_FILES
- 制御ファイル名のリスト
**** DB_BLOCK_BUFFERS
- 
  DB_CACHE_SIZEより古くから使われていたパラメータ。
  特に事情がなければDB_CACHE_SIZEを使う。
   
**** DB_BLOCK_SIZE
- 標準ブロックサイズ
**** DB_CACHE_SIZE
- バッファキャッシュのサイズを設定するパラメータ。
**** DB_DOMAIN
- Type:文字列, 変更不可
  分散システムまたはその一部の場合、この値を設定する必要がある。
**** DB_NAME
- データベース名
**** DDL_LOCK_TIMEOUT
- DDLの対象がロックされていた場合の待ち時間を指定する。

**** DIAGNOSTIC_DEST
- Type:文字列, 変更:ALTER SYSTEM
  各インスタンスの診断が専用のディレクトリに配置され、専用ディレクトリはDIAGNOSTIC_DESTの初期化パラメータによって指定する。
  ディレクトリ構造は、<diagnostic_dest>/diag/rdbms/<dbname>/<instance>
  上記は自動診断リポジトリ(ADR)ホームと呼ばれ、以下のファイルが配置される。
  - トレース・ファイル : <adr-home>/trace配下に配置
  - アラート・ログ : <adr-home>/alert配下に配置
  - コア・ファイル : <adr-home>/cdump配下に配置
  - インシデント・ファイル : <adr-home>/incident/<incdir#>に配置。各重大エラーが発生した場合。
**** DISPATCHERS
- Type:文字列
  共有サーバ・アーキテクチャ内のディスパッチャ・プロセスを構成する。
**** FIXED_DATE
- システム日時を一時的に変更する際に設定する
**** INSTANCE_NAME
- インスタンス名
**** JAVA_POOL_SIZE
**** LARGE_POOL_SIZE
**** LOCAL_LISTENER
- Type:文字列, Default:(ADDRESS = (PROTOCOL=TCP)(HOST=hostname)(PORT=1521))
**** NLS_LANGUAGE
- Type:文字列, Default:OSのNLS_LANGから導出される
  データベースのデフォルト言語を指定する。
  メッセージ、曜日名、月名、AD、BC、a.m.、p.m.の記号およびデフォルトのソート・メカニズムに使用される。
**** NLS_LENGTH_SEMANTICS
**** NLS_TERRITORY
- Type:文字列, Default:OS依存
  日と週の順序付けについて地域別規則に従う場合のその地域の名前を指定する。
**** OPEN_CURSORS
- Type:整数, Default:50, Range:0-65535
  1つのセッションで同時にオープンできるカーソルの最大数。
**** PGA_AGGREGAET_TARGET
- Type:大整数, Default:10MBもしくはSGAサイズの20%の大きい方, Range:10MB - 4096GB-1
  インスタンスに接続されたすべてのサーバー・プロセスが使用できるターゲット集計PGAメモリーを指定する。
**** PROCESSES
- Type:整数, Default:100, Range:6以上
  Oracleに同時に接続できるOSのユーザー・プロセスの最大数を指定する。
**** REMOTE_LOGIN_PASSWORDFILE
- Type:文字列, Defaut:exclusive
  Oracleがパスワードファイルを確認するかどうかを指定する。
- Value
  - shared
    1つ以上のデータベースがパスワードファイルを使用可能。
  - exclusive
    1つのデータベースのみがパスワードファイルを使用可能。
  - none
    パスワードファイルは無視される。
**** SERVICE_NAME
**** SGA_MAX_SIZE
- 最大SGAメモリサイズ(BYTE)
**** SGA_TARGET
- Type:大整数, Syntax: SGA_TARGET = integer[K|M|G], Default:0, Range:64MB以上
  全てのSGAコンポーネントの合計サイズ(Byte)を指定する。
  この値が設定されると、次のメモリー・プールのサイズが自動的に設定される。
  - バッファキャッシュ(DB_CACHE_SIZE), 共有プール(SHARED_POOL_SIZE), ラージ・プール(LARGE_POOL_SIZE),
    Javaプール(JAVA_POOL_SIZE), Streamsプール(STREAMS_POOL_SIZE)
  
**** SHARED_POOL_SIZE
- システムグローバル領域(SGA)内の共有プールのサイズ(BYTE)
**** SPFILE
- サーバー・パラメータ・ファイルのパス
**** UNDO_TABLESPACE
- Type:文字列, Default:データベース内の最初に使用可能なUNDO表領域
  インスタンスの起動時に使用するUNDO表領域。
**** USER_DUMP_SIZE
- ユーザートレースの格納場所
*** 静的データ・ディクショナリ・ビュー
**** ALL
***** ALL_CONSTRAINTS
- 現行のユーザがアクセスできる表の制約定義を示す。
- CONSTRAINT_TYPE
  - C : Constraint 表でのチェック制約
  - P : Primary Key
  - U : Unique Key
  - R : 参照整合性
  - V : ビューでのチェック・オプション付
  - O : ビューで読み取り先勝
  - H : ハッシュ式
  - F : REF列を含む制約
  - S : サプリメンタル・ロギング
***** ALL_COL_COMMENTS
- 現行のユーザーがアクセスできる表およびビューの列についてのコメントを示す。
***** ALL_DB_LINKS
***** ALL_DIRECTORIES
- 現在のユーザがアクセスできるディレクトリをすべて示す。
***** ALL_INDEXES
- 現在のユーザがアクセスできる表の索引を示す。
***** ALL_SEQUENCES
***** ALL_SOURCE
- 現行のユーザがアクセスできるストアド・オブジェクトのテキスト・ソースを示す。
***** ALL_TAB_COMMENTS
- 現行のユーザがアクセスできる表およびビューのコメントを示す。
**** DBA
***** DBA_AUTOTASK_CLIENT
- 7日間および30日間の各自動メンテナンスタスクに対する統計データを示す。
***** DBA_AUTOTASK_OPERATION
- 各クライアントの自動メンテナンス・タスク操作をすべて示す。
***** DBA_AUTOTASK_TASK
- 現在および過去の自動メンテナンス・タスクに関する情報を示す。
***** DBA_AUTOTASK_WINDOW_CLIENTS
- MAINTENANCE_WINDOW_GROUPに属するウィンドウを、各メンテナンス・タスクのウィンドウのステータスEnabledまたはDisabledとともに示す。
***** DBA_COL_COMMENTS
- データベース内のすべての表及びビューについてのコメントを示す。
***** DBA_CONSTRAINTS
- データベース内の制約定義をすべて示す。
***** DBA_DATA_FILES
- データベース・ファイルを示す。
***** DBA_DB_LINKS
- テータベース内のデータベース・リンクをすべて示す。
***** DBA_DIRECTORIES
- データベース内のディレクトリをすべて示す。
***** DBA_EXTENTS
- データベース内のすべての表領域内のセグメントを含むエクステントを示す。
***** DBA_FREE_SPACE
- データベース内のすべての表領域の使用可能エクステントを示す。
  tablespaceが表示されない場合は、使用可能エクステントがないということらしい。
  
***** DBA_INDEXES
- データベース内の索引をすべて示す。
***** DBA_ROLE_PRIVS
- データベース内のすべてのユーザおよびロールに付与されたロールを表示する
***** DBA_SEGMENTS
- データベース内のすべてのセグメントに割り当てられた記憶域を示す。
***** DBA_SEQUENCES
- データベース内の順序をすべて示す。
***** DBA_SOURCE
- データベース内のすべてのストアド・オブジェクトのテキスト・ソースを示す。
***** DBA_SYS_PRIVS
- ユーザ、またはロールに付与されたシステム権限。
***** DBA_TAB_COMMENTS
- データベース内のすべての表およびビューについてのコメントを示す。
***** DBA_TAB_COLUMNS
- データベース内すべての表、ビューおよびクラスタの列を示す。
  
***** DBA_TAB_PRIVS
***** DBA_TABLES
- データベース内のリレーショナル表をすべて示す。
***** DBA_TABLESPACES
- データベース内の表領域をすべて示す。
***** DBA_USERS
- データベース内のユーザーをすべて示す。
**** USER
***** USER_COL_COMMENTS
***** USER_CONSTRAINTS
- 現在のユーザが所有する表の制約定義をすべて示す。
***** USER_DB_LINKS
- 現在のユーザーが所有するデータベース・リンクを示す。
***** USER_INDEXES
- 現行のユーザが所有する索引を示す
***** USER_ROLE_PRIVS
***** USER_SEGMENTS
***** USER_SEQUENCES
***** USER_SOURCE
***** USER_SYS_PRIVS
***** USER_TAB_COMMENTS
***** USER_TAB_PRIVS
**** ETC
***** DATABASE_EXPORT_OBJECTS
***** SCHEMA_EXPORT_OBJECTS
***** TABLE_EXPORT_OBJECTS
*** 動的パフォーマンスビュー
**** About
- V$ビュー
  実際の動的パフォーマンスビューは接頭辞V_$であり、それらのビューのパブリックシノニムに接頭辞V$が付いている。
  基本的にV$のみにアクセスするようにする。
- GV$ビュー
  ほとんどすべてのV$ビューに対し、対応するGV$ビューがある。
**** V$DATABASE
- 現在接続しているインスタンスのDBID、チェックポイントなどが取得できる。
**** V$INSTANCE
- 現行インスタンスの状態を表す。
**** V$OPTION
- オプション製品のインストール状況
**** V$PWFILE_USERS
- パスワードファイル認証にエントリされている（SYSDBAまたはSYSOPERシステム権限がある）ユーザの一覧
*** イベント
*** PL/SQLパッケージ
**** DBMS_ADVISOR
- 
  データベース・サーバー・コンポーネントに関するパフォーマンス問題を特定および解決する一連のエキスパート・システムであるアドバイザのサーバー管理スイートに含まれる。
- 
  https://docs.oracle.com/cd/E57425_01/121/ARPLS/d_advis.htm#CIHIGAED

**** DBMS_SQLTUNE
- 
  オンデマンドでSQLをチューニングするためのインターフェース。

- 
  https://docs.oracle.com/cd/E57425_01/121/ARPLS/d_sqltun.htm#CHDGAJCI
**** DBMS_ASSET
***** Subprograms
****** ENQUOTE_NAME
- 文字列リテラルを開始一重引用符と終了一重引用符で囲む。
****** SCHEMA_NAME
- 入力文字列が既存のスキーマ名であることを検証する。
**** DBMS_AUTO_TASK_ADMIN
- AUTOTASK機能へのインターフェースを提供する。
  
***** Subprograms
****** DISABLE
- AUTOTASKが、指定したクライアントまたは操作による要求を実行しないようにする。
****** ENABLE
- 以前に使用禁止にしたクライアント、操作、ターゲット・タイプまたは個々のターゲットをAUTOTASKコントロールの基で使用可能にする。
**** DBMS_ROWID
- ROWIDに関する情報を取得できる。
  https://docs.oracle.com/cd/E16338_01/appdev.112/b56262/d_rowid.htm
**** TimesTen
***** UTL_RECOMP
- データベース内の無効なPL/SQLモジュール、無効なビュー、索引タイプおよび演算子を再コンパイルする。
****** RECOMP_PARALLELプロシージャ
- 
  特定のスキーマ内の無効なオブジェクトまたはデータベース内のすべての無効なオブジェクトを、パラレルに再コンパイルする。
  TimesTenでパラレル実行される再コンパイル・スレッドの数は常に1つなので、SERIALとの違いは事実上ない。
****** RECOMP_SERIALプロシージャ
- 
  特定のスキーマ内またはデータベース内の無効なオブジェクトを再コンパイルする。

** Interface
*** SQL*Plus
- 
  SQLを実行するためのインターフェイスユーティリティ。
  アプリケーションから呼ぶことはほとんどなく、人手によるデータベースの管理をするために使う。

*** JDBC
- Java Database Connectivity
*** ODBC
- Java Database Connectivity
*** OO4O
- Oracle Object For Ole
*** Pro*C
- 
  Oracle向けC言語コンパイラ。

** Manage
*** ユーザ分類
**** データベース管理者
***** タスク
****** データベース・サーバ・ハードウェアの評価
****** Oracle Databaseソフトウェアのインストール
****** データベースの計画
****** データベースの作成とオープン
****** データベースのバックアップ
****** システムユーザの登録
****** データベース設計の実装
****** 実行データベースのバックアップ
****** データベースのパフォーマンス・チューニング
****** パッチのダウンロードとインストール
****** 追加ホストのロール・アウト
**** セキュリティ管理者
**** ネットワーク管理者
**** アプリケーション管理者
**** データベースユーザ
*** 管理ロードマップ
**** インスタンスの起動
**** ネットワーク環境構成
**** 記憶域構造の核にｎ
**** メモリー管理
**** ユーザ管理
**** スキーマ・オブジェクトの管理
**** バックアップ・リカバリの実行
**** リカバリ設定の構成
**** データベースの監視およびチューニング
**** 問題の調査、報告、解決
**** ソフトウェアの管理
*** SQLの発行
- SQL*Plus
- Oracle Enterprise Manager
- SQL Developer

** Security
*** 事前定義ユーザ
**** 事前定義された管理アカウント
***** ANONYMOUS
- Oracle XML DBへおHTTPアクセスを許可するアカウント。
  EPG(Embedded PL/SQL Gateway)をデータベースにインストールするときに、APEX_PUBLIC_USERアカウントの代わりに使用される。
***** CTXSYS
- Oracle Textを管理するためのアカウント。
***** DBSNMP
- データベースの監視及び管理を行うためにOracle Enterprize ManagerのManagement Agentのコンポーネントによって使用されるアカウント。
***** EXFSYS
- Rules Manager機能およびExpression Filter機能と関連頭消されるEXFSYSスキーマにアクセスするために内部で使用されるアカウント。
  (どちらの機能も12cで終了)
***** LBACSYS
- Oracle Label Security(OLS)を管理するためのアカウント。Label Securityオプションをインストールするときのみ作成される。
***** MDSYS
- Oracle SpatialおよびOracle Multimedia Locator管理者アカウント。
***** MGMT_VIEW
- Oracle Enterprise Manager Database Controlで使用されるアカウント。
  
***** OLAPSYS
- OLAPカタログ(CWMLite)を所有するアカウント。非推奨だが下位互換のために保持されている。
***** ORDDATA
- Oracle Multimedia DICOMのデータモデルが含まれている。
***** OWBSYS
***** ORDPLUGINS
- Oracle Multimediaユーザ。Oracleおよびサード・パーティに提供されたプラグインはこのスキーマにインストールされている。
***** ORDSYS
- Oracle Multimedia管理者アカウント。
***** OUTLN
***** SI_INFORMTN_SCHEMA
- SQL/MM Still Image Standard向けの情報ビューを保持しているアカウント。
  
***** SYS
- データベース管理タスクの実行に使用されるアカウント。
***** SYSMAN
- Oracle Enterprise Managerデータベースの管理タスクの実行に使用するアカウント。
  SYSおよびSYSTEMでもこれらのタスクを実行できる。
***** SYSTEM
- Oracle Databaseのデフォルトの汎用データベース管理者アカウント。
  本番環境ではSYSTEMを使用せず、個々のデータベース管理者アカウントを作成するべき。
***** WK_TEST
***** WKSYS
***** WKPROXY
***** WMSYS
- Oracle Workspace Managerのメタデータ情報の格納に使用されるアカウント。
***** XDB
- Oracle XML DBデータおよびメタデータの保存に使用されるアカウント。
**** 事前定義された非管理アカウント
***** APEX_PUBLIC_USER
- Oracle Database Application Expressのアカウント。
  データベース・アクセス記述子(DAD)でデータベースに接続するために使用するOracleのスキーマの指定に使用する。
***** DIP
- 
  Oracle Directory Integration and Provisioning(DIP)のアカウント。
  
***** FLOWS_040100
***** FLOWS_FILES
***** MDDATA
***** ORACLE_OCM
- Oracle Configuration Managerと使用するアカウント。
  現在のインスタンスの構成情報をMy Oracle Supportと関連付けることができる。
***** SPATIAL_CSW_ADMIN_USR
***** SPATIAL_WFS_ADMIN_USR
***** XS$NULL
- セッション内にユーザーが存在しないことを表す内部アカウント。
  ユーザーでないため、Oracle Databaseインスタンスによってのみアクセスできる。権限はない。
**** 事前定義されたサンプル・スキーマ・ユーザアカウント
***** BI
- サンプルスキーマに含まれるBI(Business Intelligence)スキーマを所有するアカウント。
***** HR
- HR(Human Resources)スキーマを管理するためのアカウント。
  企業の従業員や施設に関する情報。
***** OE
- OE(Order Entry)スキーマを管理するためのアカウント。
  製品のインベントリや様々なチャネルによる製品の売り上げ
***** PM
- PM(Product Media)スキーマを管理するためのアカウント。
  企業が販売した各製品の説明と詳細情報
***** IX
- IX(Information Exchange)スキーマを管理するためのアカウント。
  B2Bアプrケーションを介した発送を管理
***** SH
- SH(Sales)スキーマを管理するためのアカウント。
  ビジネス上の決断を容易にするビジネス戦略を格納
**** その他
***** APPQOSSYS
- Oracle Quality of Service Managementで必要なすべてのデータおよびメタデータの格納および管理に使用される。
  
***** TSMSYS
- 透過的なセッション移行(Transparent Session Migration: TSM)に使用されるアカウント。
***** PERFSTAT
- Oracle Statspackに関するユーザ。
**** 旧資料参照
***** DMSYS
- データマイニングアカウント。
  10gまでは存在したが、11gには存在せず、代わりにSYSを使うこととなる。
  [[http://docs.oracle.com/cd/E18283_01/datamine.112/e16807/upgrade_odm.htm][6 Upgrading Oracle Data Mining - Oracle® Data Mining Administrator's Guide 11g Release 2 (11.2)]]

**** Link
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56296/tdpsg_user_accounts.htm#BABGEGFI][Oracle Databaseから提供される事前定義されるユーザー・アカウント - Oracle® Database 2日でセキュリティ・ガイド 11g リリース2(11.2)]]

** Installation
*** Class
**** Desktop Class
- ラップトップコンピュータ用。
**** Server Class
- 拡張構成オプションにアクセスする必要がある場合、このクラスを選択する。
*** Install Type
**** Enterprise Edition
- 完全な機能。
  ミッションクリティカル、OLTP、データウェアハウス環境。
**** Standard Edition
- ワークグループや部門レベル、もしくは中小企業用。
**** Standard One Edition
- ワークグループ、部門、もしくはWebアプリケーションに最適。
**** Personal Edition
- Windowsのみ。
  Enterprise Editionと同様のソフトウェアだが、シングル環境のユーザ開発環境とデプロイメントkン今日のみサポート。
*** 拡張インストール
**** 製品の言語
**** データベース構成タイプ
- 汎用目的/トランザクション処理
- データ・ウェアハウス
**** データベース構成オプション
**** データベース管理オプション
- 
  Oracle Enterprise Managerを使用して、集中管理するかローカル管理するかを指定する。
**** リカバリ・オプション
**** スキーマ・パスワード
**** オペレーティング・システム・グループ

*** DB作成
**** CREATE DATABASE
***** 1.インスタンス識別子(SID)の指定
***** 2.必要な環境変数が設定されていることの確認
***** 3.認証方式の選択
***** 4.初期化パラメータファイルの作成
***** 5.(Windows)インスタンスの作成
***** 6.インスタンスへの接続
***** 7.サーバー・パラメータ・ファイルの作成
***** 8.インスタンスの起動
***** 9.CREATE DATABASE文の発酵
***** 10.追加の表領域の作成
***** 11.スクリプトの実行によるデータ・ディクショナリ・ビューの作成
*** Install Log
**** 2016/6/11 11c
- http://docs.oracle.com/cd/E16338_01/install.112/b56277/toc.htm
  
- 6 カーネルパラメータの値が結構違う。とりあえずスルーします。
  /etc/sysctl.confを編集する、とのこと。
  ⇒結局10で怒られたので編集した。

- 7 DISPLAYの設定をして、xhostが利用できるようにしたが、
  今回は色々変更した後で、別に変更しなければ接続できたことに気付いた。
  ⇒oracleでxhost localhost、でOK?
  ⇒違う。rootでxhost local:userを設定。
  oracleユーザでDISPLAYを規定値":0.0"に戻した後、runinstallerを実行。

- 10 
  - emailは入力せず。クリティカルイッシューでメールよこさんぞ、と言われる。
  - Skip software updateとしてしまう。
  - Createする
  - Server Classを選択
  - RACにしようとしたら怒られる。Singleに。
  - Typical Installを行う。
  - 詳細
    - Oracle base : /oracle/app/oracle
    - Software location : /oracle/app/oracle/product/11.2.0/dbhome_1
    - Storage Type : File System
      - Database file location : /oracle/app/oracle/oradata
    - Database edition : Enterprise Edition
    - OSDBA Group : dba
    - Global database name : orcl.localdomain
    - Password : yasutake
  - Inventory
    - Directory : /home/oracle/app/oraInventory
    - Group : oinstall
  - Prerequisite Check
    - Passせず。
      - Phisical Memory
      - OS Kernel Parameters
        - semmsl
        - semmns
        - semmni
        - shmmni
        - ip_local_port_range
      - Package
        - elfutils-libelf-devel-0.97
        - gcc-c++-3.4.5(x86_64)
        - libstdc++-devel-3.4.6(x86_64)
        - pdksh-5.2.14
    - 以下についてIgnore
      - Checks
        - Hard Limit maximum open file descriptors : 65536 -> 4096
        - Hard Limit maximum user processes : 16384 -> 5110
        - Soft Limit maximum user processes : 2047 -> 1024
        - Package : pdksh-5.2.14
  - rootで以下を実行しろ、とのこと。
    - /home/oracle/app/oracInventory/orainstRoot.sh
    - /home/oracle/app/oracle/product/11.2.0/dbhome_1/root.sh
  - current home is not registered in the central inventory on this system. OK? -> Yes
**** 2016/6/14
- パスが/home/oracleになっていたため再作成。
  - plcn.localhost
  - デフォルトのユーザはSYSTEM、だった。
***** DBCA
- General
- test.local_domain
- local management
- すべてyasutake(SYS, SYSTEM, DBSNMP, SYSMAN)
** Tools
*** Automatic Workload Repository(AWR)
- 自動ワークロード・リポジトリ
  Oracle Databaseの稼働状況とワークロード情報のスナップショットを自動的に収集/管理する機能。
  10gより提供された機能。
*** Database Upgrade Assistant
- 既存のDBを新しいリリースのDBへアップグレードする際に使うツール
*** Oracle Application Express
- Oracle APEX
  Oracle DatabaseのためのWebアプリケーション開発ツール。
  
*** Oracle Configuration Manager
- クライアントの構成情報の収集と、この情報のOracleリポジトリへのアップロードに使用される。
*** Oracle Data Mining(ODM)
- Oracleデータベースにデータ・マイニング機能を組み込む。
  
*** Oracle Data Pump
**** About
- 
  10gより導入された。
  従来のエクスポート/インポート(exp/impコマンド)と目的は同じく論理バックアップの取得で、データベース間のデータ移動を可能とする。
  従来のexp/impは基本的にユーティリティ側で処理されるが、Data Pumpはデータベースサーバー側でジョブとして管理・処理され、
  「パフォーマンス向上」と「管理性の向上」が得られる。

**** Architecture
- 
  1) コマンドライン・クライアント expdp/impdp
  2) PL/SQLパッケージ DBMS_DATAPUMP (Data Pump API)
  3) PL/SQLパッケージ DBMS_METADATA (メタデータAPI)

**** 利用例
- 
  - 事前準備
    - Directoryの作成
      create or replace directory TEST_DIR as '/home/test';
    - Directoryの権限付与
      grant read, write on directory TEST_DIR to SCOTT;
  - EXPDP
    ex) expdp scott/tiger directory=test_dir tables=emp
  - IMPDP
    ex) impdp scott/tiger directory=test_dir dumpfile=exp.dmp tables=emp
        impdp scott/tiger directory=test_dir dumpfile=exp.dmp sqlfile=ddl.sql

**** Options
***** MODE
****** FULL 全体エクスポート・モード
- FULL=Yでデータベース全体を指定
****** SCHEMAS スキーマ・モード
- スキーマ名を指定
****** TABLESPACES 表領域モード
- 表領域名を指定
****** TABLES 表モード
- テーブル名を指定
****** TRANSPORT トランスポータブル表領域モード
***** FILTER
****** Data filter
- 
  Use "QUERY" or "SAMPLE" parameter.

****** Metadata filter
- 
  Use "EXCLUDE" or "INCLUDE" parameter.

***** Export
****** ESTIMATE_ONLY
- ESTIMATE_ONLY=yで、領域の見積もりのみ実施
***** Import
****** SQLFILE
- SQL DDLの書き込み先ファイルを指定する。import。
***** Both
****** CONTENT
- CONTENT=ata_only
  表のデータのみ
- CONTENT=metadata_only
  表の定義のみ
- CONTENT=all(default)
  表のデータと定義の両方
****** DUMPFILE
- ダンプファイル名を指定する。デフォルトは"EXPDAT.DMP"
****** EXCLUDE
- default : null
  一部のオブジェクトを除く。

- object_type
  以下で有効な値を確認可能。
  - 全体モード : DATABASE_EXPORT_OBJECTS
  - スキーマモード : SCHEMA_EXPORT_OBJECTS
  - 表および表領域モード : TABLE_EXPORT_OBJECTS
  
****** INCLUDE
- default : 
****** LOGFILE
- ログファイル名を指定する。デフォルトは"export.log","import.log"
****** NOLOGFILE
- NOLOGFILE=yでログファイルの出力を行わない
**** Link
- 
  [[http://otndnld.oracle.co.jp/products/database/oracle11g/pdf/datapump11g2007_quickstart.pdf][Oracle Data Pump クイック・スタート - Oracle ホワイト・ペーパー]]
  [[https://blogs.oracle.com/oracle4engineer/entry/data_pumpexpdpimpdp][Data Pump(expdp/impdp)の使い方～エクスポート／インポート、データ移動、論理バックアップ - オラクルエンジニア通信]]
  [[http://docs.oracle.com/cd/E16338_01/server.112/b56303/part_dp.htm][Oracle Data Pump - Oracle® Databaseユーティリティ 11gリリース2 (11.2)]]
*** Oracle Database Configuration Assistant(DBCA)
- テンプレートからデータベースを作成したり、独自のデータベースを作成するユーティリティ。
**** データベース作成
***** 起動
- shellより"dbca"
***** Templates
- General, Data Warehouseなどから選択
***** Identification
- Global Database Nameを指定
***** Management Option
- Enterprise Managerで管理するか否か設定する。
  集中管理かローカル管理かを選択する。
***** Credentials
- パスワードなどを指定する
***** File Locations
- テンプレートの位置
- すべてに対して共通の位置。指定が必要。
- Oracle Managed Files。
***** Recovery Configuration
-
***** Content
- サンプルスキーマ
- カスタムスクリプト
***** Parameters
- Memory
- Sizing
- Character Sets
  - AL32UTF8は、Oracleで使用しているUTF-8エンコードの名前。
- Connection Mode
  - Dedicated Server Mode 専用サーバー・モード
    各ユーザ・プロセスで専用のサーバ・プロセスが使用できる。
    クライアント総数が50以下など、少ないと予想される場合にこのオプションを指定する。
  - Shared Server Mode 共用サーバー・モード
    リソース・プールを複数のクライアント接続で共有できる。
***** Storage
***** Create
**** DB構成変更
**** DB削除
**** テンプレート管理
***** タイプ
****** シード
- 
  拡張子：.dbc
  既存のデータベース（シード・データベース）の構造および物理データファイルの両方が含まれる。
  
****** 非シード
- .dbt
*** Oracle Database Quality of Service Management
- Oracle Database QoS Management
  システム全体のワークロード・リクエストを監視する自動化されたポリシーベースの製品。
  アプリケーション間で共有されるリソースを監視し、システム構成を調整して、アプリケーションの実行をビジネスに必要なパフォーマンス・レベルに維持する。
*** Oracle Directory Integration and Provisioning Server
- Oracle DIP
  
*** Oracle Enterprise Manager
**** Database Control
- 
  Webベースのインターフェース。
  インストール、データベースを作成（アップグレード）してネットワークを構成すると使用可能に。
**** Cloud Control
- 
  OracleおよびOracle以外のテクノロジを実行するシステムを含むITインフラストラクチャ全体に対し、
  集中化された監視機能、管理機能およびライフ・サイクル管理機能を提供するシステム管理ソフトウェア。
  
***** Components

****** Oracle Management Agent
- 管理エージェント
  組み込まれたソフトウェア・コンポーネントで、Enterprise Managerシステムで管理対象外ホストを管理対処ホストに変換する。
  プラグインと連携することにより、管理対象ホスト上で実行されているターゲットを監視する。

****** Oracle Management Service
- OMC
  管理エージェントおよびプラグインと連携し、ターゲットを検出して、その監視及び管理を行い、
  将来の分析のために収集した情報をリポジトリ内に格納するWebベースのアプリケーション。
  
****** Oracle Management Repository
- 管理リポジトリ
  管理リポジトリは、管理エージェントが収集したすべての情報が保存される場所。
  
****** Plugins
****** Console
**** Grid Control
-
***** Components
****** Oracle Management Agent
- 管理エージェント
****** Oracle Management Service
- OMS
****** Oracle Management Repository
- 管理リポジトリ
****** Console

*** Oracle Expression Filter
- RUL
  Expression FilterとObject Relationalの機能を使用して、特殊な目的のルールエンジンの機能を提供する。
  12cでサポートが終了。
*** Oracle Identity Management
- 
  アプリケーションとディレクトリ(サード・パーティのLDAPディレクトリを含む)をOracle Internet Directoryに統合して、管理作業にかかる時間とコストを削減できる。

*** Oracle Internet Directory
- Oracleコンポーネントとサード・パーティのアプリケーションによって、ユーザIDおよび資格情報が格納され、アクセスされるリポジトリ。
*** Oracle Label Security
- 
  データベース表に対して行レベルのセキュリティを提供する。
  データ行は、個々の行にラベルを付けることで保護される。
  ニーズに応じて行を様々なセキュリティ・レベルに割り当てることができる。

**** Components
***** Label
****** Level
****** Compartment
****** Group
***** Policy
*** Oracle Locator
- Oracle Spatialで使用可能な主要な機能およびサービスを提供する。
  通常、インターネットおよびワイヤレス・サービス・ベースのアプリケーションおよびパートナ・ベースのGISソリューションをサポートする貯めに必要な、重要な機能を提供する。
*** Oracle Multimedia
- イメージ、オーディオ、ビデオまたは疎オン他の異機種間メディアデータを、他の企業情報と統合したフォーマットで格納、管理および検索する機能。
*** Oracle Multimedia DICOM
- Digital Imaging and Communications in Medicine(DICOM)は医用画像の標準規格。
  
*** Oracle Net Services
- https://docs.oracle.com/cd/E16338_01/network.112/b56288/toc.htm
*** Oracle Rules Manager
- EXF
  アプリケーション開発者が条件式をリレーショナル表の1つ以上の列に格納し、索引を付けて評価できるようにするRules Managerのコンポーネント。
  12cでサポートが終了。
*** Oracle Spatial
- Oracleのファンクションとプロシージャを統合した製品で、空間データの格納、アクセスおよび分析を短時間で効率的に処理することを目的としている。
*** Oracle Statsack
- 
  パフォーマンス上の問題点を診断するツール。
  Oracle 8iから提供されている。
  10gでは自動ワークロードリポジトリ(AWR)が提供されたため、マニュアルから削除されているが、能自体は存続している。
*** Oracle SQL Developer
- GUIツール。
  $ORACLE_HOME/sqldeveloper中に、sqldeveloper.shがあるので起動。
  xが利用できる必要がある。
- 
  http://www.oracle.com/technetwork/jp/developer-tools/sql-developer/downloads/index.html

*** Oracle Text
- 
  全文検索およびドキュメント分類のためのエンジン。
  検索対象の文書の「本文」そのものを検索対象とする。

*** Oracle Universal Installer(OUI)
- Install用ユーティリティ
*** Oracle Workspace Manager
- 作業領域を作成し、バージョンが異なる表の行の値を、異なる作業領域に簡単にグループ化できるインフラストラクチャを提供する。
  ユーザは、古いデータを保持しながら、更新するデータの新しいバージョンを作成することができる。
*** Oracle XML DB
- XMLデータの格納、生成、アクセス、検索、検証、変換、拡張および索引付などの高パフォーマンスの処理に関連する一連のOracle Databaseテクノロジー。
  SQLとXMLの両方のデータ・モデルの相互運用を可能にすることで、ネイティブなXMLサポートを提供する。
*** Recovery Manager
- https://docs.oracle.com/cd/E16338_01/backup.112/b56269/toc.htm
** Error
*** ORA-00942
- 該当の表またはビューが存在しない場合や、表やビューに対するアクセス権限が不足している場合に発生する。
*** ORA-00972
- 識別子が長すぎる。
  列名、テーブル名は30文字までとのこと。
*** ORA-01031
- 権限が不足している。
  ユーザの権限等を見直す必要がある。
*** ORA-01659
- 十分な容量がありません。
*** ORA-22868
- LOB列のセグメントがあるが、表セグメントは異なる表領域にある
  削除しようとした表領域には、表のLOB列のセグメントがあるが、表セグメントがない。
  表を削除してから、表領域の削除を再実行する必要がある。

** Glossary
*** Oracle ASM
- Oracle Automatic Storage Management
  データベースファイルの配置とネーミングを自動的に管理する。
  多数のディスクを持つ華僑では、管理が簡単になり、パフォーマンスが向上する。
  
*** SID
- System Identifier
  システム識別子。インスタンスを区別するために使用する一意の識別子。

*** グローバルデータベース名
- 
  その他のデータベースと一意に識別されるデータベースの完全名。
  database_name.database_domainの形式。

*** Schema スキーマ
- 
  データの論理構造の集合。
  1ユーザは1スキーマを必ず所有し、デフォルトで自動的にユーザ名と同じスキーマ名が割り当てられる。
  ユーザなしのスキーマ、スキーマなしのユーザは作成できない。
  
*** SYNONYM シノニム
*** TNS
- Transparent Network Substrate
  データベースの接続や複数ノード間のメッセージのやり取りを単一の共通インターフェースで提供している技術。
  Oracle Net Foundationレイヤーに組み込まれている。
  
*** Database Access Descriptor
- データベースアクセス記述子
  
*** DIRECTORY ディレクトリ
- 
  コンピュータの物理的なディレクトリをSQLやPL/SQLに直接指定することがないように、Oracle城で別名を付けて管理する。
  物理ディレクトリを変更したくなった場合に、SQLやPL/SQLを変更しなくても済む。
  [[http://q.hatena.ne.jp/1093325780][Oracleのディレクトリオブジェクトは何のために存在していますか。どのようなときにどう使うと便利なのですか？ - 人力検索はてな]]

*** 引用識別子/非引用識別子
- 
  非引用識別子は大/小文字が区別されず、すべて大文字として解析される。
  引用識別子は大/小文字が区別される。
  [[http://otndnld.oracle.co.jp/document/products/oracle11g/111/doc_dvd/server.111/E05750-03/sql_elements.htm#57456][スキーマオブジェクト名および修飾子 - Oracle Database SQL言語リファレンス 11g リリース1（11.1）]]

*** PFILE, SPFILE
- PFILE
  初期化パラメータファイル
  テキストファイル。設定内容を手動で変更可能。
  ALTER SYSTEMコマンドで変更した場合、起動中のインスタンスのみに変更が適用されるため、変更した値はインスタンス再起動により失われる。
- SPFILE
  サーバー・パラメータファイル
  バイナリファイル。alter sysetmコマンドで編集し、効果は永続する。9iから導入された。
- 起動時の優先順位
  1. 起動時指定のpfile
  2. spfileSID.ora
  3. spfile.ora
  4. initSID.ora
  5. init.ora
*** PSR, CPU, PSU, PSE
- PSR, Patch Set Release
  安定したパッチセットで、重要度の高いバグをフィックス可能。PSUやCPU適用の前提条件であることも多い。
- CPU, Critical Patch Update
  四半期ごとに提供される、セキュリティ修正を中心とした重要な修正の集積体。
- PSU, Patch Set Update
  CPUの修正を含み、かつ適用が推奨される重要な修正を含んだ集積パッチ。CPUと同様四半期ごとに提供される。
- PSE, Patch Set Exception
  別名個別パッチ。
  一つの不具合に対する修正パッチ。リリースタイミングは不定期。
*** PROFILE
- データベース・リソースの制限の集合。
  
*** 自動化メンテナンス・タスク、AUTOTASK
- データベースのメンテナンス操作を実行するために、一定の間隔をおいて自動的に開始されるタスク。
  問い合わせオプティマイザのスキーマ・オブジェクトに関する統計を収集するタスクなどはその一例。
  
- 3種類の自動化メンテナンス・タスクが事前定義されている。
  - 自動オプティマイザ統計収集
  - 自動セグメント・アドバイザ
  - 自動SQLチューニング・アドバイザ
**** メンテナンス・ウィンドウ
- 自動化メンテナンス・タスクが実行される連続した時間間隔。
  MAINTENANCE_WINDOW_GROUPという名前のウィンドウ・グループに属するOracle Scheduleウィンドウ。
** Link
*** Oracle 11.2
- [[http://docs.oracle.com/cd/E16338_01/nav/portal_booklist.htm][Oracle® Databaseオンライン・ドキュメント・ライブラリ 11g リリース2 (11.2) すべてのドキュメント]]
**** Install
- [[http://docs.oracle.com/cd/E16338_01/install.112/b56277/toc.htm][Oracle® Databaseクイック・インストレーション・ガイド 11gリリース2 (11.2) for Linux x86-64]]
- [[http://docs.oracle.com/cd/E16338_01/install.112/b56273/rev_precon_db.htm#BGECJCJI][Oracle® Databaseインストレーション・ガイド 11gリリース2 (11.2) for Linux]]
**** 概要
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56306/toc.htm][Oracle® Database概要 11gリリース2 (11.2)]]
**** Manage
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56301/toc.htm][Oracle® Database管理者ガイド 11gリリース2 (11.2)]]
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56320/toc.htm][Oracle® Database 2日でデータベース管理者 11gリリース2(11.2)]]
**** SQL言語
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56299/toc.htm][Oracle® Database SQL言語リファレンス 11gリリース2]]
**** SQL*Plus
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56314/toc.htm][SQL*Plus®ユーザーズ・ガイドおよびリファレンスリリース11.2]]
  
**** PL/SQL
- [[https://docs.oracle.com/cd/E16338_01/appdev.112/b56260/toc.htm][Oracle® Database PL/SQL言語リファレンス 11gリリース2 (11.2)]]
- [[https://docs.oracle.com/cd/E16338_01/appdev.112/b56262/toc.htm][Oracle® Database PL/SQLパッケージおよびタイプ・リファレンス 11g リリース2(11.2)]]
**** Reference
- [[https://docs.oracle.com/cd/E16338_01/server.112/b56311/toc.htm][Oracle® Databaseリファレンス 11gリリース2 (11.2)]]
  
*** Etc
- [[http://luna.gonna.jp/oracle/index.html][オラクル ちょこっとリファレンス]]
** Memo
*** 他システムとの違い
**** 空文字/Null
- 
  可変長文字列において空文字列とNULLを区別しない。
  （正確には空文字列がNULLとして扱われる）

**** 比較演算子
- 
  通常の演算子として認識されず、WHERE句の中でしか利用できない

**** FROM句
- 
  表を必要としないSQLでも、必ず何らかの表を参照するFROM句を書かなければならない。

**** マルチバイト文字
- 
  テーブル名や列名、その別名にマルチバイト文字を使用する場合必ず""で囲む必要がある。
  困難なため、実際には英数字および記号（_ $ #）のみを使用することが推奨される。
*** DUAL表
- 
  1列しか存在しない特別な表。
  SYSDATEやUESRなど、表を適用せずとも値を返す演算に対してSELECTを行う場合に使われる。
  VARCHAR2(1)のDUMMYという列があり、レコード値は'X'となっている。

- 
  Oracle 10gでは、DUAL表そのものは存在しているものの、最適化により実際にはアクセスしないようになっている。

*** RAC
- Oracle Real Application Clusters
  
*** 読み込み時の情報
**** sequential read
- 
  ランダムアクセス時。
  単一ブロック読み込みのため、読み込んだデータが（1ブロックなので当然）メモリ上で連続する。
  そのため、"sequential"と表示される。

**** scattered read
- 
  シーケンシャル読み込み時。
  複数ブロックを読み込み、それらは連続していないので、"scattered"と表示される。
*** インスタンス
- 
  Oracleでは、管理の単位として「インスタンス」という用語を用いる。
  意味は「バックグラウンドプロセス群＋共有メモリ」のこと。
  データベースを管理しているもの、というイメージであり、データベースそのものではない。
  通常インスタンスとデータベースは1:1で対応するが、RACを使用している場合は異なる。
*** インスタンスリカバリ
- 
  abrotオプションでshutdownした場合には変更済みデータを書き込まず終了するが、
  REDOログファイルのデータを使用して、データを復旧させる。
  この作業を「インスタンスリカバリ」という。
  この作業は、起動時にOracleが勝手に行う。
  Oracleが異常終了した場合もインスタンスリカバリが行われる。
  ただし、キャッシュ上の変更済みデータが失われただけでなく、データファイルが存在しないなどのファイルに関する障害がある場合は、
  本格的な復旧作業が必要。
  
*** sqlplusでヒストリ利用
- 
  "readline-devel"を入れて、rlwrapというツールを使ってwrapする。
  
- 
  [[http://utopia.knoware.nl/~hlub/uck/rlwrap/][rlwrap]]
  [[http://d.hatena.ne.jp/yohei-a/20101021/1287677679][sqlplus で bash みたいにヒストリを呼び出したりできたらいいな - ablog]]

*** 実行スクリプトファイルを指定してSQL*Plusを起動
- 
  スペースを入れて、@xxx.sqlを指定する。
  スペースを入れない場合はネットサービス名となる。
  ex) sqlplus rivus/rivus_pass@orcl_net @go.sql
- 
  [[http://www.shift-the-oracle.com/sqlplus/tutorial/sqlplus-script.html][SQL*Plus を実行スクリプトファイルを指定して起動する - SHIFT the Oracle]]

*** インスタンスの状態確認
- 
  以下のコマンドで確認する。
  select STATUS from v$instance;
  ⇒
  shutdown : エラー(ORA-01034: ORACLE not available)
  nomount  : STARTED
  mount    : MOUNTED
  open     : open

- 
  [[http://ooltcloud.expressweb.jp/201212/article_18230921.html][【Oracle】データベースの状態の変更と確認方法 - オールトの雲]]

*** PLUSTRACEロール
- PLUSTRACEロールの作成方法
  @$ORACLE_HOME/sqlplus/admin/plustrce.sql
  
*** コメントの削除
- 
  削除コマンドは存在しないので、空文字で上書きすることとなる。
  COMMENT ON COLUMN table.column is '';

*** 出力行を抑制する
- 
  rownum擬似列を利用する。
  where rownum = 1とすると、1行のみ出力できる。行頭を見たい場合に利用している。
  where rownum < 11など、使い道
  
*** 明示カーソルと暗黙カーソル、カーソルFOR LOOP
- [[http://www.shift-the-oracle.com/plsql/cursor-loop.html][明示カーソルと暗黙カーソル - SHIFT the Oracle]]
- [[http://www.istudy.ne.jp/training/serial/plsql/010.html][第10回 「カーソルFORループ文」 - PL/SQLを使ってみよう！ iStudy]]

*** ProcedureとFunctionの違い
- 
  戻り値(RETURN句)の有無。
  ファンクションはプロシージャと異なり、SELECT expr FROM..のような形で含められる。

*** デフォルトパスワード
- 
  SYS : CHANGE_ON_INSTALL
  SYSTEM : MANAGER

- 
  [[http://otndnld.oracle.co.jp/document/products/oracle11g/111/doc_dvd/server.111/E05760-03/dba.htm#403635][DBAのセキュリティと権限の概要 - Oracle Database 管理者ガイド 11gリリース1（11.1）]]

*** Insert文の生成
- 
  DESCRIBEはsqlplusの文なので、pl/sqlから呼ぶことができないが、
  dba_tab_columnsなどに列情報が入っているので、その内容を元にクエリを構成可能。
*** SQL実行計画・統計情報を取得するための準備(PLUSTRACEなど)
- 
  [[http://www.sql-dbtips.com/performance-tuning/plustrace/][SQL実行計画・統計情報を取得するための準備 - Oracle使いのネタ帳]]
*** Listerの接続関係
- 
  リスナーは、同一リスナーで複数SIDを設定できるし、逆に複数リスナーで一つのSIDを見るように設定することも可能。
  ポートとインスタンスを接続するために存在するのみ、比較的それぞれ自由で疎結合。
*** 自動メンテナンスタスク
- 機能
  - 自動オプティマイザ機能
  - 自動セグメント・アドバイザ
  - 自動SQLチューニング・アドバイザ
