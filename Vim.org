* Vim
** Options
- -b
  Binary mode.
** Mode
- 
  6つの基本モードと5つの派生モードが存在する。
  実際によく使われるのはノーマル・ビジュアル・挿入・コマンドラインモードで、
  その他はあまり意識されない。

*** 基本モード
**** ノーマルモード   
- 
  編集コマンドを実行できる。通常状態である普通のモード。

**** 挿入モード
- 
  タイプされたテキストがバッファに挿入される。
  "-- INSERT --"

**** ビジュアルモード
- 
  移動コマンドで選択領域が拡大する。
  移動コマンド以外を使うと選択領域に対しコマンドが実行される。
  "-- VISUAL --"

**** セレクトモード
- 
  ビジュアルモードで<C-g>を押すとセレクトモードに入る。
  印字可能な文字が入力されると、選択範囲を削除してインサートモードへ入る。
  "-- SELECT --"
   
**** コマンドラインモード
- 
  ウィンドウ株に1行の敵sとを入力できる。
  :, ?, /, !, Exコマンド, フィルタコマンドで利用する。

**** Exモード
- 
  Exコマンドを続けて実行するモード。
  コマンドラインモードと似ているが、コマンド入力後もExモードにとどまる。

*** その他のモード
**** オペレータ待機モード
- 
  オペレータコマンドが実行された後で、範囲を特定するモーションを得るために待機しているモード。

**** 置換モード
- 
  挿入モードの特別版。
  挿入モードと同じことができるが、一文字入力するごとにその場所にある文字が一つ削除される。
  "-- REPLACE --"

**** 仮想置換モード
- 
  置換モードに似ているが、ファイルの文字の上でなく、
  画面上の任意の位置を置換できる。
  ""-- VREPLACE --"

**** 挿入ノーマルモード
- 
  ノーマルモードのコマンドをひとつ実行すると挿入モードへ戻る。
  挿入モードで<C-o>を押す。
  "-- (insert) --"

**** 挿入ビジュアルモード
- 
  挿入ノーマルモードからビジュアルモードに入った場合のモード。
  "-- (insert) VISUAL --"

**** 挿入セレクトモード
- 
  挿入モードで選択モードを開始した場合のモード。
  "-- (insert) SELECT --"

** Command
*** ノーマルモード
**** motion
***** 左右の移動
****** h
- {count}h
  左に移動する
****** l
- 
  右に移動する
****** 0
- 
  その行の最初の文字に移動する

****** ^
- 
  その行の最初の非空白文字に移動する

****** $
- 
  その行の最後に移動する

****** |
- {count}|
  現在の行の{count}スクリーン位置に移動する。

****** f, F
- {count}f{char}, {count}F{char}
  {count}番目の{char}の位置まで飛ぶ/逆順

****** t, T
- {count}t{char}, {count}T{char}
  {count}番目の{char}の位置の一つ前まで飛ぶ/逆順

****** ; ,
- {count};
  直前のf,F,t,Tコマンドを{count}回繰り返す。
- {count},
  fコマンドを逆順に{count}回繰り返す

***** 上下の移動
****** k
- 
  上に移動
****** j
- 
  下に移動

****** gk
- 
  表示行で上に移動。

****** gj
- 
  表示行で下に移動。

****** -
- 
  行上の最初の非空白文字に移動

****** +
- 
  行下の最初の非空白文字に移動

****** _
- {count}_
  {count}-1行下の最初の非空白文字に移動

****** G
- {count}G
  {count}行目の最初の非空白文字に移動。
  {count}指定がなければ最後の行に移動。

****** gg
- {count}gg
  {count}行目の最初の非空白文字に移動。
  {count}指定がなければ最初の行に移動。

****** %
- {count}%
  ファイルの{count}%の最初の非空白文字に移動。

***** 単語単位の移動
****** w
- 
  word前方に移動。

****** W
- 
  WORD前方に移動。

****** b
- 
  word後方に移動。

****** B
- 
  WORD後方に移動。

****** e
- 
  word前方の単語の終わりに移動。空行ではとまらない。
****** E
- 
  WORD前方の単語の終わりに移動。空行ではとまらない。

****** ge
- 
  word後方の単語の終わりに移動。

****** gE

- 
  WORD後方の単語の終わりに移動。

***** オブジェクト単位の移動
****** (
- {count}(
  {count}分後方に移動

****** )
- {count})
  {count}分前方に移動

****** {
- {count}{
  {count}分後段に移動

****** }
- {count}}
  {count}分前段に移動

****** ]]
- 
  {count}セクション前方に移動。

****** ][
- 
  {count}セクション前方に移動。

****** [[
- 
  {count}セクション後方に移動。

****** []
- 
  {count}セクション後方に移動。

**** operator
- 
  後ろにモーションをとる。
  2回繰り替えすと行を対称とする。
  (gUなど二文字のものはgUgUでもgUUでもよい。)

***** c
- c(motion)
  変更
***** d
- d(motion)
  削除
****** dd
- 
  一文削除
****** daw
- 
  "a word"分削除。単語の途中にいても消してくれる。

***** y
- y(motion)
  コピー
****** yy
- 
  一行コピー

***** g~
- 
  大文字小文字入れ替え
***** gu
- 
  小文字化

***** gU
- 
  大文字化。

***** >
- 
  インデントを深くする
****** >G
- 
  末尾までインデント下げ

***** <
- 
  インデントを浅くする

***** =
- 
  自動インデント

***** !
- 
  外部プログラムでフィルタリング

***** motion
- 
  operatorでは基本的な移動系モーションのほかに、
  aやiをつけてタグの中身等を指定できる。

  ex) it タグの中身(inside tab)

**** . 
- 
  コマンドを繰り返す
  挿入モードに入って抜けるまでを記録

**** / ?
- /pattern・?pattern
  前方検索・後方検索。
  コマンドラインモードへ移る。
**** n N
- 
  検索の繰り返し・逆順

**** *
- 
  現在カーソル位置にある単語を検索する

**** x
- 
  一文字削除

**** p P
- p
  次の行にペースト
- P
  前の行にペースト

**** zz
- 
  カーソルを中央に

**** <C-a><C-x>
- 
  数字を加算/減算

  set nrformats =
  加算減算を007→010(８進法)でなく10進法でやってくれる

**** <C-o>
- 
  前回ジャンプした元へ戻る。

**** u
- 
  最後のコマンド取消
**** U
- 
  行全体の取り消し
**** <C-r>
- 
  取消の取り消し

**** <C-w><C-w>
- 
  別ウィンドウへジャンプ

**** <C-^>
- 
  直近の2つのファイルを交互に開くことが出来る。

**** モード切替
***** 挿入モードへの移行
****** a
- 
  後ろに追加
****** A
- 
  行末尾に追加
****** i
- 
  前に挿入
****** I
- 
  行頭から挿入
****** o
- 
  下の行を追加して入力
****** O
- 
  上の行を追加して入力
****** s
- 
  カーソル位置の文字を削除して挿入モード
****** S
- 
  行頭から末尾までC

***** 置換モードへの移行
****** R
- 
  置換モード
     
****** gR
- 
  仮想置間モード、タブが見た目通りに編集できる
****** r, gr
- 
  置換モード・仮想置換モード(ワンショットバージョン)

***** コマンドラインモードへの移行
****** :
- 
  コマンドモードへの切り替え
****** / ?
- /pattern・?pattern
  前方検索・後方検索

***** Exモードへの移行
****** Q
- 
  Exモードへ移行する

***** ビジュアルモードへの移行
****** v
- 
  文字指向のビジュアルモード

****** V
- 
  行指向

****** <C-v>
- 
  ブロック指向

****** gv
- 
  直前のブロックを再選択

*** 挿入モード
**** <C-h>
- 
  1文字削除
**** <C-w>
- 
  1単語削除
**** <C-u>
- 
  行頭まで削除

**** <C-r>{registory}
- 
  レジストリのアドレスを入れて挿入

**** <C-r><C-p>{registory}
- 
  挿入。そのまま入れてくれる。

**** <C-r>=
- 
  Expressionレジスタ。計算できる。

**** <C-v>{code}
- 
  3桁の数字コードで文字を入力。10進コード
  EX: 065→A
**** <C-v>u{code}
- 
  4桁の数字コードで文字を入力。16進コード。
  EX: u00bf→（?の逆）
  ga カーソル位置の文字の数字コードを表示
**** <C-k>{char1}{char2}
- 
  ダイグラフによって特殊文字を挿入
**** モード切替
***** <Esc>
- 
  ノーマルモードに切り替え

***** <C-[>
- 
  ノーマルモードに切り替え

***** <C-o>
- 
  挿入ノーマルモードに切り替え

*** ビジュアルモード
**** o
- 
  選択範囲の始点と終点をトグルする

**** モード切替
***** <C-g>
- 
  セレクトモードへ（挿入した文字がそのまま選択範囲に入力される。）

***** v, V, <C-v>他
- 
  他の選択指向のビジュアルモードへ切り替える。
  自身のモードに入るキーを押すと、選択解除。文字指向ならvを押す。

*** コマンドモード
- :q!
  強制終了
- :w(ファイル名)
- :wq
  書き込み終了
- :r
  ファイル読み込み
- :help(F1)

- :w[rite]
- :wa[all]
- :e[dit]
- :qa[ll]


- :args filenames...
  複数ファイルを起動
- :next :n
  次のファイルを編集する。
- :wnext :wn
  現在のファイルを保存して次のファイルを編集する
- :previous :prev
  :nextと逆方向にファイルを開く
- :last :la
  最後尾のファイルへ
- :first :fir
  最初のファイルへ

- :s/thee/the
  最初のものを置換
- :s/thee/the/g
  行全体を置換
- :#,#s/old/new/g
  #から#までの範囲で置換
- :%s/old/new/g
  ファイル全体で置換
- :%s/old/new/gc
  上記をチェックしながら行う

- :!（シェルコマンド）

- :set number (:set nu)
  行番号表示

:s/target/replacement
	置換
&・u
	繰り返し・戻る


- (:h ex-cmd-index)

- :[range]delete [x]
- :[range]yank [x]
- :[line]put [x]
- :[range]copy {address}
   (:co, :t)
- :[range]move {address}
   (:m)
- :[range]join
- :[range]normal {command}
- :[range]substitute/{pattern}/{string}/{flag}
- :[range]global/{pattern}/[cmd]

	 [range]
		 :x				x行目
						 1	ファイルの先頭行
						 $	ファイルの最終行
						 0	ファイルの先頭行前の仮想行
						 .	現在行
						 '<・'>
							 ビジュアルな選択範囲の開始・終了
						 % 	現在のファイルのすべての行
						 
		 :{start},{end}	範囲指定
		 :/{start}/,/{end}
						 パターン
		 :{address}+n	オフセット(行)

		 @:				EXモードの繰り返し	
		 @@				@:を一度行ったら@@でも同様

		 <Tab>			候補を循環表示
		 <C-d>			候補の一覧を表示

		 (p.98)
		 set wildmenu
		 set wildmode=full

		 <C-r><C-w>		wordをコマンド欄に入力
		 <C-r><C-a>		WORDをコマンド欄に入力

		 q:				コマンドラインウィンドウを表示
		 q/				検索履歴コマンドラインウィンドウを表示
		 <C-f>			コマンドラインモードからコマンドラインウィンドウを表示

		 %				現在編集中のファイル

		 :shell			シェル
				 
		 <C-w>s
		 <C-w>v
		 :sp[lit] {file}
		 :vsp[lit] {file}

		 <C-w>w	  次のウィンドウをフォーカス
		 <C-w>h	  左
		 <C-w>j	  下
		 <C-w>k	  上
		 <C-w>l	  右

		 :clo[se]  アクティブウィンドウを閉じる
		 <C-w>c

		 :on[ly]	他のウィンドウを閉じる
		 <C-w>o

		 <C-w>=	ウィンドウの大きさを同じにする
		 <C-w>_	ウィンドウの幅を最大
		 <C-w>|	ウィンドウのtか差を最大
		 [N]<C-w>_
		 [N]<C-w>|

		 :tabe[dit]
		 :tabc[lose]
		 :tabo[nly]

		 :tabn[ext]
		 {N}gt
		 gt
		 :tabp[revious]
		 gT

- /(?)検索順方向(逆方向)
  n	次の検索語
  N	前の検索語
  :set ic(ignorecase)	大文字小文字の区別をしない
       is(incsearch)	検索フレーズに部分マッチしている部分を表示する
       hls(hlsearch)	マッチするを強調表示する
       "no"を付与し、オプションを無効化
       ex): noic, nois, nohls

- :set number
  行番号表示

- !sort
  ソートする。

- Ctrl-r 数字(0-9)
  数字の番目に保存したレジストリの内容をペーストできる。

- :%!xxd
  バイナリ編集表示とする。
- :%!xxd -r
  バイナリ編集表示から戻る。
  
** Plug-ins
*** dein.vim
- neobundleはオワコンとのことで、一旦設定を削除した。
  deinをそのうち入れる、かも。あまりviの設定に必要性は感じていない。
  http://qiita.com/delphinus/items/00ff2c0ba972c6e41542

** Memo
*** 正規表現
- 
  \vとすることで、very magicとなり、エスケープが必要な文字が少なくて済む。

*** 置換(整理されたらコマンドモードにでも入れるか)
- 
  行の置換（
    :s/foo/bar
  ファイル（バッファ）全体の置換（ただし行の最初に出てくるもののみ置換）
    :%s/foo/bar
  行

  |--------------+-------------+---------------|
  | 範囲＼対象   | 最初のみ    | 全て          |
  |--------------+-------------+---------------|
  | 1行          | :s/foo/bar  | :s/foo/bar/g  |
  | バッファ全体 | :%s/foo/bar | :%s/foo/bar/g |
  |--------------+-------------+---------------|
** Link
- [[http://vim-jp.org/vimdoc-ja/][Vim documentation]]
